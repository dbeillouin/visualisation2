<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Comparative meta-analytic methods for evidence synthesis | Calculate and combine the effect-sizes</title>
  <meta name="description" content="<p>This is beta-version of the visualisation exercice.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Comparative meta-analytic methods for evidence synthesis | Calculate and combine the effect-sizes" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is beta-version of the visualisation exercice.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Comparative meta-analytic methods for evidence synthesis | Calculate and combine the effect-sizes" />
  
  <meta name="twitter:description" content="<p>This is beta-version of the visualisation exercice.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="Damien Beillouin" />


<meta name="date" content="2024-09-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="what-is-an-effect-size.html"/>
<link rel="next" href="analysing-model-variability.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Meta-analyses</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html"><i class="fa fa-check"></i><b>1</b> What is an Effect Size?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#visual-representation-of-effect-sizes"><i class="fa fa-check"></i><b>1.1</b> Visual representation of effect-sizes</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#different-metrics-for-measuring-effect-sizes"><i class="fa fa-check"></i><b>1.1.1</b> Different Metrics for Measuring Effect Sizes</a></li>
<li class="chapter" data-level="1.1.2" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#how-to-measure-variability"><i class="fa fa-check"></i><b>1.1.2</b> How to Measure Variability</a></li>
<li class="chapter" data-level="1.1.3" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#what-variability-means"><i class="fa fa-check"></i><b>1.1.3</b> What Variability Means</a></li>
<li class="chapter" data-level="1.1.4" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#comparison-of-effect-size-and-p-value"><i class="fa fa-check"></i><b>1.1.4</b> Comparison of Effect Size and p-Value</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html"><i class="fa fa-check"></i><b>2</b> Comparative meta-analytic methods for evidence synthesis</a>
<ul>
<li class="chapter" data-level="2.1" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#equal-effects-model"><i class="fa fa-check"></i><b>2.1</b> Equal-Effects Model</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-data"><i class="fa fa-check"></i><b>2.1.1</b> Example Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#fitting-the-equal-effects-model"><i class="fa fa-check"></i><b>2.1.2</b> Fitting the Equal-Effects Model</a></li>
<li class="chapter" data-level="2.1.3" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparison-of-results"><i class="fa fa-check"></i><b>2.1.3</b> Comparison of Results</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#random-effects-model"><i class="fa fa-check"></i><b>2.2</b> Random-Effects Model</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#fitting-the-random-effects-model"><i class="fa fa-check"></i><b>2.2.1</b> Fitting the Random-Effects Model</a></li>
<li class="chapter" data-level="2.2.2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparison-of-results-1"><i class="fa fa-check"></i><b>2.2.2</b> Comparison of Results</a></li>
<li class="chapter" data-level="2.2.3" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#meta-forest-analysis-a-comparison-with-classical-meta-analytic-models"><i class="fa fa-check"></i><b>2.2.3</b> Meta-Forest Analysis: A Comparison with Classical Meta-Analytic Models</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#conclusion"><i class="fa fa-check"></i><b>2.3</b> Conclusion</a></li>
<li class="chapter" data-level="2.4" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#practical-implementations"><i class="fa fa-check"></i><b>2.4</b> Practical implementations</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-1-fixed-vs.-random-meta-analysis-models"><i class="fa fa-check"></i><b>2.4.1</b> Example 1: fixed vs. random Meta-Analysis models</a></li>
<li class="chapter" data-level="2.4.2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-2-comparing-heterogeneity-across-models"><i class="fa fa-check"></i><b>2.4.2</b> Example 2: Comparing Heterogeneity across models</a></li>
<li class="chapter" data-level="2.4.3" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-3-multi-level-meta-analysis-with-hierarchical-data"><i class="fa fa-check"></i><b>2.4.3</b> Example 3: Multi-Level meta-Analysis with hierarchical Data</a></li>
<li class="chapter" data-level="2.4.4" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#model-selection-in-meta-analysis"><i class="fa fa-check"></i><b>2.4.4</b> Model Selection in Meta-Analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html"><i class="fa fa-check"></i><b>3</b> Analysing model variability</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html#using-parametric-and-non-parametric-bootstrapping-to-estimate-confidence-intervals-in-meta-analyses"><i class="fa fa-check"></i><b>3.0.1</b> Using Parametric and Non-Parametric Bootstrapping to Estimate Confidence Intervals in Meta-Analyses</a></li>
<li class="chapter" data-level="3.0.2" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html#parametric-bootstrapping-step-by-step-example"><i class="fa fa-check"></i><b>3.0.2</b> Parametric Bootstrapping: Step-by-Step Example</a></li>
<li class="chapter" data-level="3.0.3" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html#non-parametric-bootstrapping-step-by-step-example"><i class="fa fa-check"></i><b>3.0.3</b> Non-Parametric Bootstrapping: Step-by-Step Example</a></li>
<li class="chapter" data-level="3.0.4" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html#conclusion-1"><i class="fa fa-check"></i><b>3.0.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html"><i class="fa fa-check"></i><b>4</b> Plotting meta-analytical results</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#overview"><i class="fa fa-check"></i><b>4.0.1</b> Overview</a></li>
<li class="chapter" data-level="4.0.2" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#example-1-forest-plot-with-metafor"><i class="fa fa-check"></i><b>4.0.2</b> Example 1: Forest plot with metafor</a></li>
<li class="chapter" data-level="4.0.3" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#example-2-forest-plot-with-meta"><i class="fa fa-check"></i><b>4.0.3</b> Example 2: Forest plot with meta</a></li>
<li class="chapter" data-level="4.0.4" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#example-3-forest-plot-with-ggplot"><i class="fa fa-check"></i><b>4.0.4</b> Example 3: Forest plot with ggplot</a></li>
<li class="chapter" data-level="4.0.5" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#example-4-orchard-plots"><i class="fa fa-check"></i><b>4.0.5</b> Example 4: Orchard plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html"><i class="fa fa-check"></i><b>5</b> Analysis and Visualization of Publication Bias</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#funnel-plots"><i class="fa fa-check"></i><b>5.0.1</b> Funnel Plots</a></li>
<li class="chapter" data-level="5.0.2" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#trim-and-fill-method"><i class="fa fa-check"></i><b>5.0.2</b> Trim and Fill Method</a></li>
<li class="chapter" data-level="5.0.3" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#egger-test"><i class="fa fa-check"></i><b>5.0.3</b> Egger Test</a></li>
<li class="chapter" data-level="5.0.4" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#rosenthals-fail-safe-n"><i class="fa fa-check"></i><b>5.0.4</b> Rosenthal’s Fail-Safe N</a></li>
<li class="chapter" data-level="5.0.5" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#robust-bayesian-meta-analysis-robma"><i class="fa fa-check"></i><b>5.0.5</b> Robust Bayesian Meta-Analysis (RoBMA)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Calculate and combine the effect-sizes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="comparative-meta-analytic-methods-for-evidence-synthesis" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Comparative meta-analytic methods for evidence synthesis<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparative-meta-analytic-methods-for-evidence-synthesis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter is designed to provide a comparative exploration of different meta-analytic approaches using the <code>metafor</code>, <code>meta</code>, and <code>brms</code> packages in R. The objective is to understand how the choice of methods (e.g., fixed-effect vs. random-effects models) and different effect size metrics (Standardized Mean Difference, Risk Ratios, etc.) can impact the interpretation of results. We will utilize a variety of datasets to illustrate how these choices influence conclusions, highlighting key interpretative aspects when heterogeneity and study-level variations are present.</p>
<p>By examining multiple datasets and applying different statistical techniques, we will underscore the importance of selecting appropriate methods based on the characteristics of the data, including heterogeneity among studies and the nature of the effect sizes being analyzed.</p>
<p><strong>Prerequisites</strong></p>
<p>You should have a basic understanding of meta-analysis concepts and be familiar with R. If you haven’t yet installed the necessary R packages, run the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb1-1" tabindex="-1"></a><span class="co">#install.packages(c(&quot;tidyverse&quot;, &quot;metafor&quot;, &quot;dmetar&quot;, &quot;meta&quot;, &quot;metadat&quot;, &quot;ggplot2&quot;, &quot;reactable&quot;, &quot;ggstar&quot;, &quot;ggpubr&quot;))</span></span></code></pre></div>
<div id="equal-effects-model" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Equal-Effects Model<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#equal-effects-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="example-data" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Example Data<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider the meta-analysis by Molloy et al. (2014), which examines the relationship between conscientiousness and medication adherence. We can compute the r-to-z transformed correlation coefficient and corresponding sampling variances using the <code>metafor</code> package:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb2-1" tabindex="-1"></a><span class="fu">library</span>(metafor)</span>
<span id="cb2-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb2-2" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">escalc</span>(<span class="at">measure=</span><span class="st">&quot;ZCOR&quot;</span>, <span class="at">ri=</span>ri, <span class="at">ni=</span>ni, <span class="at">data=</span>dat.molloy2014)</span></code></pre></div>
<p>The dataset contains the following columns: authors, year, sample size (ni), correlation coefficient (ri), transformed coefficient (yi), and sampling variance (vi).</p>
</div>
<div id="fitting-the-equal-effects-model" class="section level3 hasAnchor" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Fitting the Equal-Effects Model<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#fitting-the-equal-effects-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can fit an equal-effects model with <code>rma()</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb3-1" tabindex="-1"></a>res.ee <span class="ot">&lt;-</span> <span class="fu">rma</span>(yi, vi, <span class="at">data=</span>dat, <span class="at">method=</span><span class="st">&quot;EE&quot;</span>)</span>
<span id="cb3-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb3-2" tabindex="-1"></a><span class="fu">summary</span>(res.ee)</span></code></pre></div>
<pre><code>## 
## Equal-Effects Model (k = 16)
## 
##   logLik  deviance       AIC       BIC      AICc   
##   5.4330   38.1595   -8.8659   -8.0933   -8.5802   
## 
## I^2 (total heterogeneity / total variability):   60.69%
## H^2 (total variability / sampling variability):  2.54
## 
## Test for Heterogeneity:
## Q(df = 15) = 38.1595, p-val = 0.0009
## 
## Model Results:
## 
## estimate      se    zval    pval   ci.lb   ci.ub      
##   0.1252  0.0170  7.3642  &lt;.0001  0.0919  0.1585  *** 
## 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>This outputs the estimated effect size, heterogeneity statistics (I², H²), and a test for heterogeneity.</p>
<p>Next, we fit the same model using <code>lm()</code> by specifying the inverse of the sampling variances as weights:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb5-1" tabindex="-1"></a>res.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(yi <span class="sc">~</span> <span class="dv">1</span>, <span class="at">weights =</span> <span class="dv">1</span><span class="sc">/</span>vi, <span class="at">data=</span>dat)</span>
<span id="cb5-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb5-2" tabindex="-1"></a><span class="fu">summary</span>(res.lm)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = yi ~ 1, data = dat, weights = 1/vi)
## 
## Weighted Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.1919 -1.0719  0.6674  1.3173  2.4695 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  0.12518    0.02711   4.617 0.000335 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.595 on 15 degrees of freedom</code></pre>
</div>
<div id="comparison-of-results" class="section level3 hasAnchor" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Comparison of Results<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparison-of-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>Coefficient Comparison</strong>: The estimated intercept from <code>lm()</code> matches that from <code>rma()</code>, although it’s rounded differently.</p></li>
<li><p><strong>Standard Errors</strong>: The standard error from <code>lm()</code> differs because <code>lm()</code> assumes weights are only known up to a proportionality constant (σ²e). This error can be demonstrated by extracting the estimated error variance from the <code>lm</code> object and refitting the model with <code>rma()</code>:</p></li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb7-1" tabindex="-1"></a><span class="fu">rma</span>(yi, vi <span class="sc">*</span> <span class="fu">sigma</span>(res.lm)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data=</span>dat, <span class="at">method=</span><span class="st">&quot;EE&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Equal-Effects Model (k = 16)
## 
## I^2 (total heterogeneity / total variability):   0.00%
## H^2 (total variability / sampling variability):  1.00
## 
## Test for Heterogeneity:
## Q(df = 15) = 15.0000, p-val = 0.4514
## 
## Model Results:
## 
## estimate      se    zval    pval   ci.lb   ci.ub      
##   0.1252  0.0271  4.6171  &lt;.0001  0.0720  0.1783  *** 
## 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>This shows that adjusting the standard errors to account for the estimated error variance results in consistent estimates across both functions.</p>
</div>
</div>
<div id="random-effects-model" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Random-Effects Model<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#random-effects-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="fitting-the-random-effects-model" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Fitting the Random-Effects Model<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#fitting-the-random-effects-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can fit a random-effects model using <code>rma()</code> as follows:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb9-1" tabindex="-1"></a>res.re <span class="ot">&lt;-</span> <span class="fu">rma</span>(yi, vi, <span class="at">data=</span>dat)</span>
<span id="cb9-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb9-2" tabindex="-1"></a><span class="fu">summary</span>(res.re)</span></code></pre></div>
<pre><code>## 
## Random-Effects Model (k = 16; tau^2 estimator: REML)
## 
##   logLik  deviance       AIC       BIC      AICc   
##   8.6096  -17.2191  -13.2191  -11.8030  -12.2191   
## 
## tau^2 (estimated amount of total heterogeneity): 0.0081 (SE = 0.0055)
## tau (square root of estimated tau^2 value):      0.0901
## I^2 (total heterogeneity / total variability):   61.73%
## H^2 (total variability / sampling variability):  2.61
## 
## Test for Heterogeneity:
## Q(df = 15) = 38.1595, p-val = 0.0009
## 
## Model Results:
## 
## estimate      se    zval    pval   ci.lb   ci.ub      
##   0.1499  0.0316  4.7501  &lt;.0001  0.0881  0.2118  *** 
## 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Next, we try fitting the same model with the <code>lme()</code> function from the <code>nlme</code> package, specifying a variance function for fixed variances:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb11-1" tabindex="-1"></a><span class="fu">library</span>(nlme)</span>
<span id="cb11-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb11-2" tabindex="-1"></a>dat<span class="sc">$</span>study <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(dat)</span>
<span id="cb11-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb11-3" tabindex="-1"></a>res.lme <span class="ot">&lt;-</span> <span class="fu">lme</span>(yi <span class="sc">~</span> <span class="dv">1</span>, <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study, <span class="at">weights =</span> <span class="fu">varFixed</span>(<span class="sc">~</span> vi), <span class="at">data=</span>dat)</span>
<span id="cb11-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb11-4" tabindex="-1"></a><span class="fu">summary</span>(res.lme)</span></code></pre></div>
<pre><code>## Linear mixed-effects model fit by REML
##   Data: dat 
##         AIC       BIC   logLik
##   -8.781569 -6.657418 7.390784
## 
## Random effects:
##  Formula: ~1 | study
##         (Intercept) Residual
## StdDev:  0.06818354 1.259548
## 
## Variance function:
##  Structure: fixed weights
##  Formula: ~vi 
## Fixed effects:  yi ~ 1 
##                 Value  Std.Error DF  t-value p-value
## (Intercept) 0.1415557 0.03071906 16 4.608073   3e-04
## 
## Standardized Within-Group Residuals:
##        Min         Q1        Med         Q3        Max 
## -1.1596768 -0.6903414  0.1964221  0.7117538  1.4616798 
## 
## Number of Observations: 16
## Number of Groups: 16</code></pre>
<p>Alternatively, we can use the <code>lmer()</code> function from the <code>lme4</code> package</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb13-1" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb13-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb13-2" tabindex="-1"></a>res.lmer <span class="ot">&lt;-</span> <span class="fu">lmer</span>(yi <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> study), <span class="at">weights =</span> <span class="dv">1</span><span class="sc">/</span>vi, <span class="at">data=</span>dat,</span>
<span id="cb13-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb13-3" tabindex="-1"></a>                 <span class="at">control=</span><span class="fu">lmerControl</span>(<span class="at">check.nobs.vs.nlev=</span><span class="st">&quot;ignore&quot;</span>, <span class="at">check.nobs.vs.nRE=</span><span class="st">&quot;ignore&quot;</span>))</span>
<span id="cb13-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb13-4" tabindex="-1"></a><span class="fu">summary</span>(res.lmer)</span></code></pre></div>
<pre><code>## Linear mixed model fit by REML [&#39;lmerMod&#39;]
## Formula: yi ~ 1 + (1 | study)
##    Data: dat
## Weights: 1/vi
## Control: 
## lmerControl(check.nobs.vs.nlev = &quot;ignore&quot;, check.nobs.vs.nRE = &quot;ignore&quot;)
## 
## REML criterion at convergence: -14.8
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.1597 -0.6903  0.1964  0.7117  1.4617 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  study    (Intercept) 0.004649 0.06818 
##  Residual             1.586457 1.25955 
## Number of obs: 16, groups:  study, 16
## 
## Fixed effects:
##             Estimate Std. Error t value
## (Intercept)  0.14156    0.03072   4.608</code></pre>
</div>
<div id="comparison-of-results-1" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Comparison of Results<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparison-of-results-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>Intercept Differences</strong>: The estimated intercepts from <code>lme()</code> and <code>lmer()</code> do not differ from the estimate obtained via <code>rma()</code>.</p></li>
<li><p><strong>Standard Errors</strong>: The standard errors, t-values, and p-values also show discrepancies for similar reasons as mentioned earlier—<code>lme()</code> and <code>lmer()</code> treat sampling variances as unknown beyond a proportionality constant.</p></li>
</ol>
<p>To illustrate, we can factor this constant into the sampling variances and refit the model with <code>rma()</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb15-1" tabindex="-1"></a><span class="fu">rma</span>(yi, vi <span class="sc">*</span> <span class="fu">sigma</span>(res.lme)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data=</span>dat)</span></code></pre></div>
<pre><code>## 
## Random-Effects Model (k = 16; tau^2 estimator: REML)
## 
## tau^2 (estimated amount of total heterogeneity): 0.0046 (SE = 0.0049)
## tau (square root of estimated tau^2 value):      0.0682
## I^2 (total heterogeneity / total variability):   36.82%
## H^2 (total variability / sampling variability):  1.58
## 
## Test for Heterogeneity:
## Q(df = 15) = 24.0532, p-val = 0.0642
## 
## Model Results:
## 
## estimate      se    zval    pval   ci.lb   ci.ub      
##   0.1416  0.0307  4.6081  &lt;.0001  0.0813  0.2018  *** 
## 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>This yields results consistent with those from <code>lme()</code>.</p>
<div id="comparison-with-the-meta-package" class="section level4 hasAnchor" number="2.2.2.1">
<h4><span class="header-section-number">2.2.2.1</span> Comparison with the <code>meta</code> Package<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparison-with-the-meta-package" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>meta</code> package provides a robust alternative for conducting meta-analyses, featuring a range of built-in functions that cater to both fixed-effect and random-effects models. This package streamlines the analysis of various effect sizes, making it accessible for researchers. For example, we can execute a meta-analysis using the <code>metagen()</code> function from the <code>meta</code> package as follows:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb17-1" tabindex="-1"></a><span class="fu">library</span>(meta)</span>
<span id="cb17-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb17-2" tabindex="-1"></a>res.meta <span class="ot">&lt;-</span> <span class="fu">metagen</span>(<span class="at">TE =</span> yi, <span class="at">seTE =</span> <span class="fu">sqrt</span>(vi), <span class="at">data =</span> dat, <span class="at">sm =</span> <span class="st">&quot;SMD&quot;</span>)</span>
<span id="cb17-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb17-3" tabindex="-1"></a><span class="fu">summary</span>(res.meta)</span></code></pre></div>
<pre><code>##        SMD            95%-CI %W(common) %W(random)
## 1   0.1892 [-0.0011; 0.3796]        3.1        5.7
## 2   0.1634 [ 0.0917; 0.2352]       21.6       10.5
## 3   0.3541 [ 0.0823; 0.6259]        1.5        3.6
## 4   0.3316 [ 0.1395; 0.5238]        3.0        5.6
## 5   0.2769 [ 0.0409; 0.5128]        2.0        4.4
## 6   0.0000 [-0.2489; 0.2489]        1.8        4.1
## 7   0.1768 [ 0.0269; 0.3267]        4.9        7.1
## 8   0.0500 [-0.0590; 0.1591]        9.3        8.9
## 9   0.2661 [ 0.0018; 0.5304]        1.6        3.8
## 10  0.0100 [-0.0607; 0.0807]       22.2       10.6
## 11 -0.0902 [-0.3595; 0.1790]        1.5        3.7
## 12  0.3884 [ 0.1795; 0.5974]        2.5        5.1
## 13  0.0000 [-0.1844; 0.1844]        3.3        5.9
## 14  0.1511 [ 0.0663; 0.2360]       15.4       10.0
## 15  0.2448 [ 0.0873; 0.4022]        4.5        6.8
## 16  0.0400 [-0.2089; 0.2889]        1.8        4.1
## 
## Number of studies: k = 16
## 
##                         SMD           95%-CI    z  p-value
## Common effect model  0.1252 [0.0919; 0.1585] 7.36 &lt; 0.0001
## Random effects model 0.1499 [0.0881; 0.2118] 4.75 &lt; 0.0001
## 
## Quantifying heterogeneity:
##  tau^2 = 0.0081 [0.0017; 0.0378]; tau = 0.0901 [0.0412; 0.1944]
##  I^2 = 60.7% [32.1%; 77.2%]; H = 1.59 [1.21; 2.10]
## 
## Test of heterogeneity:
##      Q d.f. p-value
##  38.16   15  0.0009
## 
## Details on meta-analytical method:
## - Inverse variance method
## - Restricted maximum-likelihood estimator for tau^2
## - Q-Profile method for confidence interval of tau^2 and tau</code></pre>
<p>One of the key advantages of the <code>meta</code> package is its user-friendly syntax, which simplifies the process of conducting meta-analyses. Additionally, it integrates functions for visualizing results, such as forest plots, directly within its framework, enhancing the interpretability of the findings.</p>
</div>
<div id="bayesian-meta-analysis" class="section level4 hasAnchor" number="2.2.2.2">
<h4><span class="header-section-number">2.2.2.2</span> Bayesian Meta-Analysis<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#bayesian-meta-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Bayesian meta-analysis presents a flexible framework that accommodates the incorporation of prior distributions and quantifies uncertainty in a comprehensive manner. By employing the <code>brms</code> package, we can specify a Bayesian random-effects model as follows:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-1" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb19-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-2" tabindex="-1"></a></span>
<span id="cb19-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-3" tabindex="-1"></a><span class="co"># Define the response variable and the standard error</span></span>
<span id="cb19-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-4" tabindex="-1"></a><span class="co"># Replace &#39;yi&#39; with your actual response variable and &#39;se&#39; with the appropriate standard error variable</span></span>
<span id="cb19-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-5" tabindex="-1"></a>response_var <span class="ot">&lt;-</span> <span class="st">&quot;yi&quot;</span>  <span class="co"># Change this to your response variable name</span></span>
<span id="cb19-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-6" tabindex="-1"></a>se_var <span class="ot">&lt;-</span> <span class="st">&quot;sqrt(vi)&quot;</span>  <span class="co"># Calculate the standard error (if vi is the variance)</span></span>
<span id="cb19-7"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-7" tabindex="-1"></a></span>
<span id="cb19-8"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-8" tabindex="-1"></a><span class="co"># Fit the Bayesian random-effects model with specified priors</span></span>
<span id="cb19-9"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-9" tabindex="-1"></a>bayes_model <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb19-10"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-10" tabindex="-1"></a>  <span class="at">formula =</span> <span class="fu">paste0</span>(response_var, <span class="st">&quot; | se(&quot;</span>, se_var, <span class="st">&quot;) ~ 1 + (1 | study)&quot;</span>),</span>
<span id="cb19-11"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-11" tabindex="-1"></a>  <span class="at">data =</span> dat,</span>
<span id="cb19-12"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-12" tabindex="-1"></a>  <span class="at">family =</span> gaussian,</span>
<span id="cb19-13"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-13" tabindex="-1"></a>  <span class="at">prior =</span> <span class="fu">c</span>(</span>
<span id="cb19-14"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-14" tabindex="-1"></a>    <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">class =</span> <span class="st">&quot;Intercept&quot;</span>),   <span class="co"># Prior for the intercept</span></span>
<span id="cb19-15"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-15" tabindex="-1"></a>    <span class="fu">prior</span>(<span class="fu">cauchy</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">class =</span> <span class="st">&quot;sd&quot;</span>)            <span class="co"># Prior for the standard deviation of the random effect</span></span>
<span id="cb19-16"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-16" tabindex="-1"></a>  ),</span>
<span id="cb19-17"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-17" tabindex="-1"></a>  <span class="at">iter =</span> <span class="dv">200</span>,</span>
<span id="cb19-18"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-18" tabindex="-1"></a>  <span class="at">warmup =</span> <span class="dv">100</span>,</span>
<span id="cb19-19"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-19" tabindex="-1"></a>  <span class="at">cores =</span> <span class="dv">4</span>,</span>
<span id="cb19-20"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-20" tabindex="-1"></a>  <span class="at">chains =</span> <span class="dv">2</span>,</span>
<span id="cb19-21"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-21" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">14</span></span>
<span id="cb19-22"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-22" tabindex="-1"></a>)</span>
<span id="cb19-23"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-23" tabindex="-1"></a></span>
<span id="cb19-24"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-24" tabindex="-1"></a><span class="co"># Summarize the results</span></span>
<span id="cb19-25"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb19-25" tabindex="-1"></a><span class="fu">summary</span>(bayes_model)</span></code></pre></div>
<p>This Bayesian approach enables us to derive posterior distributions for the effect sizes, facilitating a more nuanced interpretation of uncertainty compared to traditional frequentist methods. By leveraging Bayesian techniques, researchers can integrate prior knowledge and obtain more robust estimates, especially in cases where sample sizes are limited or when study results exhibit significant variability.</p>
</div>
</div>
<div id="meta-forest-analysis-a-comparison-with-classical-meta-analytic-models" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Meta-Forest Analysis: A Comparison with Classical Meta-Analytic Models<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#meta-forest-analysis-a-comparison-with-classical-meta-analytic-models" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Meta-forest analysis is a machine-learning-based extension of meta-analysis that addresses the limitations of traditional meta-analytic models. In standard approaches like meta-regression, we assume a linear relationship between moderators and the effect sizes, which can oversimplify the true patterns within the data. Meta-forest, on the other hand, leverages the power of random forests to capture <strong>nonlinear interactions</strong> and <strong>complex relationships</strong> between moderators and outcomes, providing a deeper understanding of heterogeneity.</p>
<div id="key-differences-and-advantages" class="section level4 hasAnchor" number="2.2.3.1">
<h4><span class="header-section-number">2.2.3.1</span> Key Differences and Advantages<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#key-differences-and-advantages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p><strong>Handling Complex and Nonlinear Relationships</strong>:<br />
Traditional meta-regression models fit a single linear equation to explain the relationship between effect sizes and moderators. This approach works well for straightforward datasets but struggles when the effects of moderators are nonlinear or when there are interactions between variables. Meta-forest overcomes these limitations by utilizing decision trees, which split the data into multiple regions and fit localized models, effectively capturing nonlinearities and interactions that would be missed otherwise.</p></li>
<li><p><strong>No Assumptions on Functional Form</strong>:<br />
Classical models require specifying the functional form of the relationship a priori (e.g., linear or quadratic). If the chosen form is incorrect, the model can lead to biased or misleading conclusions. Meta-forest avoids this issue by being entirely data-driven, learning the shape of the relationships directly from the data without requiring these assumptions.</p></li>
<li><p><strong>Resilience to Overfitting</strong>:<br />
While adding more moderators to a standard meta-regression model can quickly lead to overfitting, especially in small datasets, meta-forest models are designed to mitigate overfitting through cross-validation and ensemble averaging. This robustness is crucial when dealing with a large number of potential moderators, allowing researchers to explore multiple variables without risking model instability.</p></li>
<li><p><strong>Variable Importance and Feature Selection</strong>:<br />
One of the most valuable outputs from a meta-forest model is the <strong>variable importance</strong> score. Unlike classical models, which may produce ambiguous results when variables are collinear or interact with each other, meta-forest provides a clear ranking of which moderators contribute the most to explaining heterogeneity. This feature is particularly beneficial when performing exploratory analyses or when the moderator space is large and uncertain.</p></li>
<li><p><strong>Partial Dependence Plots for Interpretation</strong>:<br />
Meta-forest offers visual tools like <strong>partial dependence plots</strong> that show the marginal effect of each moderator while accounting for the influence of other variables. This allows researchers to interpret the role of each moderator in context, which is challenging to achieve with standard meta-regression models.</p></li>
</ol>
</div>
<div id="potential-drawbacks-of-meta-forest" class="section level4 hasAnchor" number="2.2.3.2">
<h4><span class="header-section-number">2.2.3.2</span> Potential Drawbacks of Meta-Forest<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#potential-drawbacks-of-meta-forest" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Despite its strengths, meta-forest also has some drawbacks:</p>
<ul>
<li><p><strong>Lack of Inference Statistics</strong>:<br />
Unlike classical models, meta-forest does not provide p-values or confidence intervals for effect size estimates. While this is acceptable for exploratory analyses, it can be limiting if formal hypothesis testing is required.</p></li>
<li><p><strong>Higher Complexity and Computational Cost</strong>:<br />
The complexity of meta-forest models requires more computational resources and time, especially for large datasets or numerous moderators. Researchers may need to balance the improved flexibility against increased computational demand.</p></li>
<li><p><strong>Limited Applicability for Small Datasets</strong>:<br />
Meta-forest is most effective when there is a substantial number of studies and a diverse set of moderators. For small datasets, classical methods like mixed-effects models might be more appropriate due to their simpler structure and ease of interpretation.</p></li>
</ul>
</div>
<div id="practical-application-when-to-use-meta-forest" class="section level4 hasAnchor" number="2.2.3.3">
<h4><span class="header-section-number">2.2.3.3</span> Practical Application: When to Use Meta-Forest?<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#practical-application-when-to-use-meta-forest" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Meta-forest is an ideal tool when dealing with <strong>exploratory analyses</strong> or when the <strong>relationships between moderators and effect sizes are unknown or suspected to be nonlinear</strong>. It is particularly useful for:</p>
<ol style="list-style-type: decimal">
<li><p>Exploring datasets with <strong>many potential moderators</strong> where interactions are likely.</p></li>
<li><p>Identifying key predictors of heterogeneity when prior knowledge is limited.</p></li>
<li><p>Providing a preliminary understanding of complex datasets before fitting more traditional models.</p></li>
</ol>
<p>However, for datasets where linear assumptions are well-supported and computational efficiency is a concern, classical methods like <strong>meta-regression</strong> remain preferable.</p>
</div>
<div id="example-of-implementing-a-meta-forest-model" class="section level4 hasAnchor" number="2.2.3.4">
<h4><span class="header-section-number">2.2.3.4</span> Example of Implementing a Meta-Forest Model<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-of-implementing-a-meta-forest-model" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Below is a demonstration of how to fit a meta-forest model and assess the relative importance of moderators:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-1" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb20-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-2" tabindex="-1"></a><span class="fu">library</span>(metaforest)</span>
<span id="cb20-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-3" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb20-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-4" tabindex="-1"></a></span>
<span id="cb20-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-5" tabindex="-1"></a><span class="co"># Hypothetical dataset: Replace this with your own meta-analysis data</span></span>
<span id="cb20-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-6" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb20-7"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-7" tabindex="-1"></a>data_agro <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb20-8"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-8" tabindex="-1"></a>  <span class="at">yi =</span> <span class="fu">rnorm</span>(<span class="dv">60</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>),         <span class="co"># Simulated effect sizes</span></span>
<span id="cb20-9"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-9" tabindex="-1"></a>  <span class="at">vi =</span> <span class="fu">min</span>(<span class="fl">0.01</span>,<span class="fu">rnorm</span>(<span class="dv">60</span>, <span class="fl">0.1</span>, <span class="fl">0.05</span>)),        <span class="co"># Variances of the effect sizes</span></span>
<span id="cb20-10"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-10" tabindex="-1"></a>  <span class="at">Intervention =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Fruit&quot;</span>, <span class="st">&quot;Mixed&quot;</span>, <span class="st">&quot;Timber&quot;</span>), <span class="dv">60</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-11"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-11" tabindex="-1"></a>  <span class="at">StudyID =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">each =</span> <span class="dv">4</span>),    <span class="co"># 15 unique studies</span></span>
<span id="cb20-12"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-12" tabindex="-1"></a>  <span class="at">Region =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Tropical&quot;</span>, <span class="st">&quot;Temperate&quot;</span>), <span class="dv">60</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-13"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-13" tabindex="-1"></a>)</span>
<span id="cb20-14"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-14" tabindex="-1"></a></span>
<span id="cb20-15"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-15" tabindex="-1"></a><span class="co"># Step 1: Run initial MetaForest model with many trees to check convergence</span></span>
<span id="cb20-16"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-16" tabindex="-1"></a>initial_model <span class="ot">&lt;-</span> <span class="fu">MetaForest</span>(</span>
<span id="cb20-17"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-17" tabindex="-1"></a>  <span class="at">formula =</span> yi <span class="sc">~</span> Intervention <span class="sc">+</span> Region,</span>
<span id="cb20-18"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-18" tabindex="-1"></a>  <span class="at">data =</span> data_agro,</span>
<span id="cb20-19"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-19" tabindex="-1"></a>  <span class="at">study =</span> <span class="st">&quot;StudyID&quot;</span>,</span>
<span id="cb20-20"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-20" tabindex="-1"></a>  <span class="at">whichweights =</span> <span class="st">&quot;random&quot;</span>,          <span class="co"># Use random-effects weighting scheme</span></span>
<span id="cb20-21"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-21" tabindex="-1"></a>  <span class="at">num.trees =</span> <span class="dv">15000</span>                 <span class="co"># Set a high number of trees for convergence</span></span>
<span id="cb20-22"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-22" tabindex="-1"></a>)</span>
<span id="cb20-23"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-23" tabindex="-1"></a></span>
<span id="cb20-24"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-24" tabindex="-1"></a><span class="co"># Step 2: Plot convergence trajectory (Mean Squared Error vs. Number of Trees)</span></span>
<span id="cb20-25"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb20-25" tabindex="-1"></a><span class="fu">plot</span>(initial_model)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-1" tabindex="-1"></a><span class="co"># Step 3: Tune MetaForest model using cross-validation with `caret`</span></span>
<span id="cb21-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-2" tabindex="-1"></a><span class="co"># Define the parameter grid for tuning</span></span>
<span id="cb21-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-3" tabindex="-1"></a>tuning_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb21-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-4" tabindex="-1"></a>  <span class="at">whichweights =</span> <span class="fu">c</span>(<span class="st">&quot;random&quot;</span>, <span class="st">&quot;fixed&quot;</span>, <span class="st">&quot;unif&quot;</span>),</span>
<span id="cb21-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-5" tabindex="-1"></a>  <span class="at">mtry =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,                       <span class="co"># Number of variables to possibly split at in each node</span></span>
<span id="cb21-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-6" tabindex="-1"></a>  <span class="at">min.node.size =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>               <span class="co"># Minimum size of terminal nodes</span></span>
<span id="cb21-7"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-7" tabindex="-1"></a>)</span>
<span id="cb21-8"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-8" tabindex="-1"></a></span>
<span id="cb21-9"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-9" tabindex="-1"></a><span class="co"># Setup 10-fold cross-validation</span></span>
<span id="cb21-10"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-10" tabindex="-1"></a>grouped_cv <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">index =</span> <span class="fu">groupKFold</span>(data_agro<span class="sc">$</span>StudyID, <span class="at">k =</span> <span class="dv">10</span>))</span>
<span id="cb21-11"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-11" tabindex="-1"></a></span>
<span id="cb21-12"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-12" tabindex="-1"></a><span class="co"># Train MetaForest model using `caret` for optimal tuning</span></span>
<span id="cb21-13"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-13" tabindex="-1"></a>tuned_model <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb21-14"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-14" tabindex="-1"></a>  <span class="at">y =</span> data_agro<span class="sc">$</span>yi,</span>
<span id="cb21-15"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-15" tabindex="-1"></a>  <span class="at">x =</span> data_agro[, <span class="fu">c</span>(<span class="st">&quot;Intervention&quot;</span>, <span class="st">&quot;Region&quot;</span>, <span class="st">&quot;StudyID&quot;</span>, <span class="st">&quot;vi&quot;</span>)],</span>
<span id="cb21-16"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-16" tabindex="-1"></a>  <span class="at">method =</span> <span class="fu">ModelInfo_mf</span>(),           <span class="co"># MetaForest method setup for `caret`</span></span>
<span id="cb21-17"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-17" tabindex="-1"></a>  <span class="at">trControl =</span> grouped_cv,            <span class="co"># Cross-validation setup</span></span>
<span id="cb21-18"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-18" tabindex="-1"></a>  <span class="at">tuneGrid =</span> tuning_grid,            <span class="co"># Grid of tuning parameters</span></span>
<span id="cb21-19"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-19" tabindex="-1"></a>  <span class="at">num.trees =</span> <span class="dv">5000</span>                   <span class="co"># Number of trees for final model</span></span>
<span id="cb21-20"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-20" tabindex="-1"></a>)</span>
<span id="cb21-21"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-21" tabindex="-1"></a></span>
<span id="cb21-22"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-22" tabindex="-1"></a><span class="co"># Step 4: Examine the optimal tuning parameters and model performance</span></span>
<span id="cb21-23"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-23" tabindex="-1"></a>best_params <span class="ot">&lt;-</span> tuned_model<span class="sc">$</span>results[<span class="fu">which.min</span>(tuned_model<span class="sc">$</span>results<span class="sc">$</span>RMSE), ]</span>
<span id="cb21-24"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb21-24" tabindex="-1"></a><span class="fu">print</span>(best_params)</span></code></pre></div>
<pre><code>##    whichweights mtry min.node.size      RMSE  Rsquared       MAE     RMSESD
## 20         unif    1             5 0.1813407 0.1106552 0.1465791 0.03107815
##    RsquaredSD      MAESD
## 20  0.1610125 0.03347646</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb23-1" tabindex="-1"></a><span class="co"># Step 5: Assess the final model and visualize results</span></span>
<span id="cb23-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb23-2" tabindex="-1"></a>final_model <span class="ot">&lt;-</span> tuned_model<span class="sc">$</span>finalModel</span>
<span id="cb23-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb23-3" tabindex="-1"></a></span>
<span id="cb23-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb23-4" tabindex="-1"></a><span class="co"># R² from out-of-bag predictions (OOB R² indicates model fit for unseen data)</span></span>
<span id="cb23-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb23-5" tabindex="-1"></a>r2_oob <span class="ot">&lt;-</span> final_model<span class="sc">$</span>forest<span class="sc">$</span>r.squared</span>
<span id="cb23-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb23-6" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;OOB R-squared: &quot;</span>, r2_oob)</span></code></pre></div>
<pre><code>## OOB R-squared:  -0.07849894</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb25-1" tabindex="-1"></a><span class="co"># Variable importance plot to identify influential moderators</span></span>
<span id="cb25-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb25-2" tabindex="-1"></a><span class="fu">VarImpPlot</span>(final_model)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb26-1" tabindex="-1"></a><span class="co"># Step 6: Visualize partial dependence of top moderators</span></span>
<span id="cb26-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb26-2" tabindex="-1"></a><span class="fu">PartialDependence</span>(final_model, <span class="at">vars =</span> <span class="fu">names</span>(final_model<span class="sc">$</span>forest<span class="sc">$</span>variable.importance)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="at">rawdata =</span> <span class="cn">TRUE</span>, <span class="at">pi =</span> <span class="fl">0.95</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-14-3.png" width="672" /></p>
</div>
<div id="handling-random-structures-and-weights-in-meta-forest-models" class="section level4 hasAnchor" number="2.2.3.5">
<h4><span class="header-section-number">2.2.3.5</span> Handling Random Structures and Weights in Meta-Forest Models<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#handling-random-structures-and-weights-in-meta-forest-models" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Meta-forest models handle <strong>random structures</strong> and <strong>weights</strong> differently from traditional meta-analysis models:</p>
<ul>
<li><p><strong>Random Effects</strong>: Traditional models explicitly incorporate random effects to model between-study variability. Meta-forest, however, relies on the structure of decision trees to capture variability implicitly. While this can account for some heterogeneity, it does not separate fixed and random components as effectively as mixed-effects models.</p></li>
<li><p><strong>Weights</strong>: Classical meta-analyses use <strong>inverse variance weighting</strong> to prioritize studies with higher precision. Meta-forest can integrate study weights similarly during the tree-fitting process, ensuring that precise studies have more influence. However, unlike static weights in classical models, meta-forest adjusts them adaptively during iterations, making it more suitable for complex interactions and nonlinear patterns.</p></li>
</ul>
</div>
</div>
</div>
<div id="conclusion" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Conclusion<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#conclusion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In summary, while the <code>lm()</code>, <code>lme()</code>, and <code>lmer()</code> functions can fit various linear models, they are not appropriate for meta-analysis due to their assumptions about the error variances. The <code>rma()</code> function is specifically designed for meta-analytic contexts, ensuring that known sampling variances are correctly utilized, resulting in reliable estimates and standard errors. Additionally, the <code>meta</code> package provides an accessible alternative for meta-analyses, while Bayesian methods using <code>brms</code> allow for flexible modeling and uncertainty quantification.</p>
</div>
<div id="practical-implementations" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Practical implementations<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#practical-implementations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="example-1-fixed-vs.-random-meta-analysis-models" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Example 1: fixed vs. random Meta-Analysis models<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-1-fixed-vs.-random-meta-analysis-models" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><br />
The first dataset explores the impact of two effect size measures: Standardized Mean Difference (SMD) and Log Risk Ratios (lnRR). We apply different models and compare the results to identify variations in interpretations:</p>
<ul>
<li><strong>Calculation of effect-sizes</strong></li>
</ul>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb27-1" tabindex="-1"></a>dat <span class="ot">&lt;-</span> metadat<span class="sc">::</span>dat.curtis1998</span>
<span id="cb27-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb27-2" tabindex="-1"></a></span>
<span id="cb27-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb27-3" tabindex="-1"></a><span class="co"># Standardized mean differences</span></span>
<span id="cb27-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb27-4" tabindex="-1"></a>    SMD <span class="ot">&lt;-</span> <span class="fu">escalc</span>(<span class="at">measure =</span> <span class="st">&quot;SMD&quot;</span>, <span class="at">n1i =</span> dat<span class="sc">$</span>n1i, <span class="at">n2i =</span> dat<span class="sc">$</span>n2i, <span class="at">m1i =</span> dat<span class="sc">$</span>m1i, <span class="at">m2i =</span> dat<span class="sc">$</span>m2i, <span class="at">sd1i =</span> dat<span class="sc">$</span>sd1i, <span class="at">sd2i =</span> dat<span class="sc">$</span>sd2i)</span>
<span id="cb27-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb27-5" tabindex="-1"></a></span>
<span id="cb27-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb27-6" tabindex="-1"></a>    <span class="co"># Ln(RR)</span></span>
<span id="cb27-7"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb27-7" tabindex="-1"></a>    </span>
<span id="cb27-8"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb27-8" tabindex="-1"></a>lnRR <span class="ot">&lt;-</span> <span class="fu">escalc</span>(<span class="at">measure =</span> <span class="st">&quot;ROM&quot;</span>, <span class="at">n1i =</span> dat<span class="sc">$</span>n1i, <span class="at">n2i =</span> dat<span class="sc">$</span>n2i, <span class="at">m1i =</span> dat<span class="sc">$</span>m1i, <span class="at">m2i =</span> dat<span class="sc">$</span>m2i, <span class="at">sd1i =</span> dat<span class="sc">$</span>sd1i, <span class="at">sd2i =</span> dat<span class="sc">$</span>sd2i)</span></code></pre></div>
<ul>
<li><strong>Model Comparison:</strong></li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb28-1" tabindex="-1"></a><span class="co"># Fixed-Effect Model (SMD):</span></span>
<span id="cb28-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb28-2" tabindex="-1"></a>fixed_SMD <span class="ot">&lt;-</span> <span class="fu">rma</span>(<span class="at">yi =</span> SMD<span class="sc">$</span>yi, <span class="at">vi =</span> SMD<span class="sc">$</span>vi, <span class="at">method =</span> <span class="st">&quot;FE&quot;</span>, <span class="at">data =</span> dat)</span>
<span id="cb28-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb28-3" tabindex="-1"></a>fixed_lnRR <span class="ot">&lt;-</span> <span class="fu">rma</span>(<span class="at">yi =</span> lnRR<span class="sc">$</span>yi, <span class="at">vi =</span> lnRR<span class="sc">$</span>vi, <span class="at">method =</span> <span class="st">&quot;FE&quot;</span>, <span class="at">data =</span> dat)</span>
<span id="cb28-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb28-4" tabindex="-1"></a></span>
<span id="cb28-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb28-5" tabindex="-1"></a><span class="co"># random effect models </span></span>
<span id="cb28-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb28-6" tabindex="-1"></a>random_m_SMD <span class="ot">&lt;-</span> <span class="fu">rma</span>(<span class="at">yi =</span> SMD<span class="sc">$</span>yi, <span class="at">vi =</span> SMD<span class="sc">$</span>vi, <span class="at">method =</span> <span class="st">&quot;REML&quot;</span>, <span class="at">data =</span> dat)</span>
<span id="cb28-7"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb28-7" tabindex="-1"></a>random_m_lnRR <span class="ot">&lt;-</span> <span class="fu">rma</span>(<span class="at">yi =</span> lnRR<span class="sc">$</span>yi, <span class="at">vi =</span> lnRR<span class="sc">$</span>vi, <span class="at">method =</span> <span class="st">&quot;REML&quot;</span>, <span class="at">data =</span> dat)</span></code></pre></div>
<ul>
<li><strong>Extraction and comparisons of the results</strong></li>
</ul>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-1" tabindex="-1"></a><span class="co"># Extract relevant results for comparison</span></span>
<span id="cb29-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-2" tabindex="-1"></a>model_comparison <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb29-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-3" tabindex="-1"></a>  <span class="at">Model =</span> <span class="fu">c</span>(<span class="st">&quot;Fixed Effect (SMD)&quot;</span>, <span class="st">&quot;Random Effect (SMD)&quot;</span>, <span class="st">&quot;Fixed Effect (lnRR)&quot;</span>, <span class="st">&quot;Random Effect (lnRR)&quot;</span>),</span>
<span id="cb29-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-4" tabindex="-1"></a>  <span class="at">Estimate =</span> <span class="fu">c</span>(fixed_SMD<span class="sc">$</span>b, random_m_SMD<span class="sc">$</span>b, fixed_lnRR<span class="sc">$</span>b, random_m_lnRR<span class="sc">$</span>b),</span>
<span id="cb29-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-5" tabindex="-1"></a>  <span class="st">`</span><span class="at">95% CI Lower</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(fixed_SMD<span class="sc">$</span>ci.lb, random_m_SMD<span class="sc">$</span>ci.lb, fixed_lnRR<span class="sc">$</span>ci.lb, random_m_lnRR<span class="sc">$</span>ci.lb),</span>
<span id="cb29-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-6" tabindex="-1"></a>  <span class="st">`</span><span class="at">95% CI Upper</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(fixed_SMD<span class="sc">$</span>ci.ub, random_m_SMD<span class="sc">$</span>ci.ub, fixed_lnRR<span class="sc">$</span>ci.ub, random_m_lnRR<span class="sc">$</span>ci.ub),</span>
<span id="cb29-7"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-7" tabindex="-1"></a>  <span class="at">Tau2 =</span> <span class="fu">c</span>(<span class="cn">NA</span>, random_m_SMD<span class="sc">$</span>tau2, <span class="cn">NA</span>, random_m_lnRR<span class="sc">$</span>tau2),</span>
<span id="cb29-8"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-8" tabindex="-1"></a>  <span class="at">I2 =</span> <span class="fu">c</span>(<span class="cn">NA</span>, random_m_SMD<span class="sc">$</span>I2, <span class="cn">NA</span>, random_m_lnRR<span class="sc">$</span>I2),</span>
<span id="cb29-9"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-9" tabindex="-1"></a>  <span class="at">p.value =</span> <span class="fu">c</span>(fixed_SMD<span class="sc">$</span>pval, random_m_SMD<span class="sc">$</span>pval, fixed_lnRR<span class="sc">$</span>pval, random_m_lnRR<span class="sc">$</span>pval)</span>
<span id="cb29-10"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-10" tabindex="-1"></a>)</span>
<span id="cb29-11"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-11" tabindex="-1"></a></span>
<span id="cb29-12"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-12" tabindex="-1"></a><span class="co"># Affichage des résultats sous forme de tableau interactif avec reactable</span></span>
<span id="cb29-13"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb29-13" tabindex="-1"></a>model_comparison</span></code></pre></div>
<pre><code>##                  Model  Estimate X95..CI.Lower X95..CI.Upper       Tau2
## 1   Fixed Effect (SMD) 1.0200088     0.9104184      1.129599         NA
## 2  Random Effect (SMD) 1.2845731     1.0619587      1.507187 0.74922116
## 3  Fixed Effect (lnRR) 0.2088297     0.1981535      0.219506         NA
## 4 Random Effect (lnRR) 0.2552978     0.2164785      0.294117 0.02620568
##         I2      p.value
## 1       NA 2.382399e-74
## 2 69.73831 1.173970e-29
## 3       NA 0.000000e+00
## 4 88.89735 5.133963e-38</code></pre>
<ul>
<li><strong>Interpretation:</strong> The contrast in point estimates and confidence intervals between the SMD and lnRR models underscores the impact of effect size metrics on study-level variability. This comparison reveals how different metrics can shift the weight of certain studies and alter pooled estimates.</li>
</ul>
<p><strong>Exercise: Model comparison</strong></p>
<ol style="list-style-type: decimal">
<li><p><strong>Task</strong>: Fit three different models (Fixed, Random, and Three-Level) using the dataset.</p></li>
<li><p><strong>Objective</strong>: Compare their tau² estimates and overall pooled effect sizes.</p></li>
<li><p><strong>Guiding questions</strong>:</p>
<ul>
<li><p>How does heterogeneity (I²) change across these models?</p></li>
<li><p>Does the model choice impact the significance of moderators?</p></li>
</ul></li>
</ol>
</div>
<div id="example-2-comparing-heterogeneity-across-models" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Example 2: Comparing Heterogeneity across models<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-2-comparing-heterogeneity-across-models" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here, we calculate Risk Differences (RD) and explore the impact of between-study variance estimators (<code>DL</code>, <code>REML</code>) on heterogeneity.</p>
<ul>
<li><strong>Random-Effects Model Using DerSimonian-Laird (DL)</strong>:</li>
</ul>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb31-1" tabindex="-1"></a>res_dl <span class="ot">&lt;-</span> <span class="fu">rma</span>(<span class="at">yi =</span> lnRR<span class="sc">$</span>yi, <span class="at">vi =</span> lnRR<span class="sc">$</span>vi, <span class="at">method =</span> <span class="st">&quot;DL&quot;</span>, <span class="at">data =</span> dat)</span></code></pre></div>
<ul>
<li><strong>Random-Effects Model Using REML</strong>:</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb32-1" tabindex="-1"></a>res_reml <span class="ot">&lt;-</span> <span class="fu">rma</span>(<span class="at">yi =</span> lnRR<span class="sc">$</span>yi, <span class="at">vi =</span> lnRR<span class="sc">$</span>vi, <span class="at">method =</span> <span class="st">&quot;REML&quot;</span>, <span class="at">data =</span> dat)</span></code></pre></div>
<ul>
<li><strong>Extraction and comparisons of the results</strong></li>
</ul>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-1" tabindex="-1"></a><span class="co"># Extract relevant results for comparison</span></span>
<span id="cb33-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-2" tabindex="-1"></a>model_comparison2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb33-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-3" tabindex="-1"></a>  <span class="at">Model =</span> <span class="fu">c</span>(<span class="st">&quot;DL&quot;</span>, <span class="st">&quot;REML&quot;</span>),</span>
<span id="cb33-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-4" tabindex="-1"></a>  <span class="at">Estimate =</span> <span class="fu">c</span>(res_dl<span class="sc">$</span>b, res_reml<span class="sc">$</span>b),</span>
<span id="cb33-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-5" tabindex="-1"></a>  <span class="st">`</span><span class="at">95% CI Lower</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(res_dl<span class="sc">$</span>ci.lb, res_reml<span class="sc">$</span>ci.lb),</span>
<span id="cb33-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-6" tabindex="-1"></a>  <span class="st">`</span><span class="at">95% CI Upper</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(res_dl<span class="sc">$</span>ci.ub, res_reml<span class="sc">$</span>ci.ub),</span>
<span id="cb33-7"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-7" tabindex="-1"></a>  <span class="at">Tau2 =</span> <span class="fu">c</span>(res_dl<span class="sc">$</span>tau2, res_reml<span class="sc">$</span>tau2),</span>
<span id="cb33-8"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-8" tabindex="-1"></a>  <span class="at">I2 =</span> <span class="fu">c</span>(res_dl<span class="sc">$</span>I2, res_reml<span class="sc">$</span>I2),</span>
<span id="cb33-9"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-9" tabindex="-1"></a>  <span class="at">p.value =</span> <span class="fu">c</span>(res_dl<span class="sc">$</span>pval, res_reml<span class="sc">$</span>pval)</span>
<span id="cb33-10"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-10" tabindex="-1"></a>)</span>
<span id="cb33-11"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-11" tabindex="-1"></a></span>
<span id="cb33-12"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-12" tabindex="-1"></a><span class="co"># Affichage des résultats sous forme de tableau interactif avec reactable</span></span>
<span id="cb33-13"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb33-13" tabindex="-1"></a>model_comparison2</span></code></pre></div>
<pre><code>##   Model  Estimate X95..CI.Lower X95..CI.Upper       Tau2       I2      p.value
## 1    DL 0.2530579     0.2168455     0.2892704 0.02164714 86.86638 1.065093e-42
## 2  REML 0.2552978     0.2164785     0.2941170 0.02620568 88.89735 5.133963e-38</code></pre>
<p><strong>Interpretation:</strong> The DL estimator is more sensitive to small-study effects, potentially overestimating between-study heterogeneity, while the REML tends to yield more conservative estimates, resulting in narrower confidence intervals. This comparison is crucial for understanding when each method might be more appropriate.</p>
<p><strong>Exercise: Model estimator impact</strong></p>
<ol style="list-style-type: decimal">
<li><p><strong>Task</strong>: Apply multiple heterogeneity estimators (<code>DL</code>, <code>HE</code>, <code>SJ</code>, <code>REML</code>) to the dataset.</p></li>
<li><p><strong>Objective</strong>: Compare I², tau², and Q-statistics across estimators.</p></li>
<li><p><strong>Guiding Questions</strong>:</p>
<ul>
<li><p>Which estimator produces the most conservative tau² estimate?</p></li>
<li><p>Does the choice of estimator affect the overall significance?</p></li>
</ul></li>
</ol>
</div>
<div id="example-3-multi-level-meta-analysis-with-hierarchical-data" class="section level3 hasAnchor" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> Example 3: Multi-Level meta-Analysis with hierarchical Data<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-3-multi-level-meta-analysis-with-hierarchical-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In hierarchical data structures, three-level models allow us to account for dependencies within and across clusters (e.g., experiments and individual observations).</p>
<ul>
<li><strong>Three-Level model setup</strong>:</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb35-1" tabindex="-1"></a>dat<span class="ot">&lt;-</span><span class="fu">cbind</span>(dat, lnRR)</span>
<span id="cb35-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb35-2" tabindex="-1"></a><span class="co"># Three-level meta-analysis</span></span>
<span id="cb35-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb35-3" tabindex="-1"></a>three_level_m <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(<span class="at">yi =</span> yi, <span class="at">V =</span> vi, <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span><span class="dv">1</span> <span class="sc">|</span> id, <span class="sc">~</span><span class="dv">1</span> <span class="sc">|</span> paper), <span class="at">data =</span> dat)</span>
<span id="cb35-4"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb35-4" tabindex="-1"></a></span>
<span id="cb35-5"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb35-5" tabindex="-1"></a><span class="co"># Two level meta-analysis</span></span>
<span id="cb35-6"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb35-6" tabindex="-1"></a>two_level_m <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(<span class="at">yi =</span> yi, <span class="at">V =</span> vi, <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span><span class="dv">1</span> <span class="sc">|</span> id), <span class="at">data =</span> dat)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Faire le tableau de comparaison de outputs</li>
<li>AIC pour sélection de modèles</li>
</ol>
<p><strong>Interpretation:</strong> The three-level model reveals the extent of within- and between-experiment variance. Visualizing these results with orchard plots helps disentangle which levels contribute most to the observed heterogeneity.</p>
<p><strong>Exercise: multi-Level meta-Analysis</strong></p>
<ol style="list-style-type: decimal">
<li><p><strong>Task</strong>: Fit a series of multi-level models with different group-level random effects.</p></li>
<li><p><strong>Objective</strong>: Determine how accounting for more complex structures impacts model fit and tau² partitioning.</p></li>
<li><p><strong>Guiding Questions</strong>:</p>
<ul>
<li><p>How does the inclusion of nested random effects change the intraclass correlation?</p></li>
<li><p>Which levels (experiment vs. within-group) contribute most to the variance?</p></li>
</ul></li>
</ol>
</div>
<div id="model-selection-in-meta-analysis" class="section level3 hasAnchor" number="2.4.4">
<h3><span class="header-section-number">2.4.4</span> Model Selection in Meta-Analysis<a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#model-selection-in-meta-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Choosing the best model in meta-analysis involves comparing multiple competing models using selection criteria like AIC (Akaike Information Criterion), AICc (Corrected AIC), BIC (Bayesian Information Criterion), and other model performance metrics. This helps identify a model that balances goodness-of-fit and model complexity. The following section covers strategies for selecting the most appropriate model, including fixed and random effects, based on theoretical knowledge or statistical tests.</p>
<div id="selection-criteria-for-model-comparison" class="section level4 hasAnchor" number="2.4.4.1">
<h4><span class="header-section-number">2.4.4.1</span> <strong>Selection Criteria for Model Comparison</strong><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#selection-criteria-for-model-comparison" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p><strong>AIC (Akaike Information Criterion)</strong>: Measures the trade-off between model fit and complexity:</p>
<p><span class="math display">\[
\text{AIC} = 2k - 2\log(\hat{L})
\]</span></p>
<p>where <span class="math inline">\(k\)</span> is the number of model parameters, and <span class="math inline">\(\hat{L}\)</span> is the maximum likelihood value. A lower AIC indicates a more parsimonious model.</p></li>
<li><p><strong>AICc (Corrected AIC)</strong>: Adjusted for small sample sizes to avoid overfitting:</p>
<p><span class="math display">\[
\text{AICc} = \text{AIC} + \frac{2k(k+1)}{n - k - 1}
\]</span></p>
<p>It should be used when <span class="math inline">\(n/k\)</span> is small (&lt; 40), where <span class="math inline">\(n\)</span> is the number of observations and <span class="math inline">\(k\)</span> the number of parameters.</p></li>
<li><p><strong>BIC (Bayesian Information Criterion)</strong>: Applies a stronger penalty for the number of parameters:</p>
<p><span class="math display">\[
\text{BIC} = k\log(n) - 2\log(\hat{L})
\]</span></p>
<p>BIC often favors simpler models, making it suitable when working with large sample sizes.</p></li>
<li><p><strong>Likelihood Ratio Tests and ANOVA</strong>: To directly compare nested models, likelihood ratio tests or <code>anova</code> can be used. This approach quantifies if adding (or removing) parameters significantly improves model fit.</p></li>
</ul>
</div>
<div id="choosing-between-fixed-and-random-effects-models" class="section level4 hasAnchor" number="2.4.4.2">
<h4><span class="header-section-number">2.4.4.2</span> <strong>Choosing Between Fixed and Random-Effects Models</strong><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#choosing-between-fixed-and-random-effects-models" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The decision between using a fixed-effect or random-effects model depends on either <em>theoretical considerations</em> or <em>statistical testing</em>:</p>
<ul>
<li><p><strong>Theoretical Justification</strong>: Choose a <em>fixed-effect model</em> if you expect a common effect size across all studies (e.g., homogeneous study contexts or interventions). Select a <em>random-effects model</em> when heterogeneity among studies is anticipated (e.g., varying contexts, differing methods).</p></li>
<li><p><strong>Statistical Testing</strong>:</p>
<ul>
<li><strong>Heterogeneity Tests</strong>: Use tests like Cochran’s Q-test or <span class="math inline">\(I^2\)</span> statistics to detect significant variability between studies. High <span class="math inline">\(I^2\)</span> or a significant Q-test indicates that a random-effects model is likely more appropriate.</li>
<li><strong>ANOVA for Model Comparison</strong>: When comparing nested models (e.g., fixed-effects vs. random-effects), <code>anova()</code> can be used to test whether the inclusion of random effects significantly improves the model fit.</li>
</ul></li>
<li></li>
</ul>
</div>
<div id="comparing-models-fixed-and-random-structures" class="section level4 hasAnchor" number="2.4.4.3">
<h4><span class="header-section-number">2.4.4.3</span> <strong>Comparing Models: Fixed and Random Structures</strong><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparing-models-fixed-and-random-structures" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When fitting mixed-effects models, choosing between different random and fixed structures is a crucial step. Typically, the process involves:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Start with the Random Structure</strong>:</p>
<ul>
<li><p>Define the random effects first to capture variance due to grouping or clustering (e.g., study-level random effects, site-level random effects).</p></li>
<li><p>Use the likelihood ratio test (<code>anova()</code>) to compare models with and without each random component:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb36-1" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(yi, vi, <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> paper, <span class="at">data =</span> dat)</span>
<span id="cb36-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb36-2" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(yi, vi, <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> paper<span class="sc">/</span>id, <span class="at">data =</span> dat)</span>
<span id="cb36-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb36-3" tabindex="-1"></a><span class="fu">anova</span>(model1, model2)</span></code></pre></div>
<pre><code>## 
##         df      AIC      BIC     AICc   logLik      LRT   pval       QE 
## Full     3  -8.2204  -0.3750  -7.9730   7.1102                 769.0185 
## Reduced  2 104.0570 109.2872 104.1794 -50.0285 114.2774 &lt;.0001 769.0185</code></pre></li>
</ul>
<p>This step allows you to determine if additional random components (e.g., study vs. nested study/site effects) are justified.</p>
<p>Here, <code>anova()</code> will test if the more complex model (<code>model_random</code>) explains significantly more variance than the simpler one (<code>model_fixed</code>).</p></li>
<li><p><strong>Incorporate Fixed Effects</strong>:</p>
<ul>
<li><p>After selecting the optimal random structure, test different combinations of fixed effects (e.g., covariates, moderators).</p></li>
<li><p>Compare models using AIC, AICc, and BIC. Include one fixed effect at a time and use <code>anova()</code> to see if adding predictors improves fit:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb38-1" tabindex="-1"></a>model_fixed1 <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(yi, vi, <span class="at">mods =</span> <span class="sc">~</span> species, <span class="at">random=</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> paper<span class="sc">/</span>id, <span class="at">data =</span> dat)</span>
<span id="cb38-2"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb38-2" tabindex="-1"></a>model_fixed2 <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(yi, vi, <span class="at">mods =</span> <span class="sc">~</span> species <span class="sc">+</span> fungrp,<span class="at">random=</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> paper<span class="sc">/</span>id, <span class="at">data =</span> dat)</span>
<span id="cb38-3"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#cb38-3" tabindex="-1"></a><span class="fu">anova</span>(model_fixed1, model_fixed2)</span></code></pre></div>
<pre><code>## 
##         df     AIC      BIC     AICc logLik    LRT   pval       QE 
## Full    38 73.7811 156.9879 183.5588 1.1095               334.3528 
## Reduced 37 71.3274 152.9011 168.2930 1.3363 0.0000 1.0000 334.9388</code></pre></li>
</ul></li>
<li><p><strong>Test for Interactions</strong>:</p>
<ul>
<li>After defining main effects, consider adding interaction terms and use AIC or likelihood ratio tests to assess their contribution.</li>
</ul></li>
</ol>
</div>
<div id="selecting-the-optimal-model-practical-considerations" class="section level4 hasAnchor" number="2.4.4.4">
<h4><span class="header-section-number">2.4.4.4</span> <strong>Selecting the Optimal Model: Practical Considerations</strong><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#selecting-the-optimal-model-practical-considerations" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><strong>Model Complexity vs. Parsimony</strong>: Start with a simple model and gradually add parameters, using AIC, AICc, and BIC to avoid overfitting.</li>
<li><strong>Check Model Assumptions</strong>: Ensure that the chosen model meets meta-analytic assumptions (e.g., homogeneity of variance, normality).</li>
<li><strong>Visual Evaluation</strong>: Use diagnostic plots (e.g., residual plots, forest plots) to visually inspect model fit.</li>
</ul>
<p>In practice, the ideal strategy involves:</p>
<ol style="list-style-type: decimal">
<li><strong>Define the Random Structure First</strong>:
<ul>
<li>Use theoretical and statistical justifications to select between study-level or multi-level random effects.</li>
<li>Select the most parsimonious random structure using <code>anova()</code> and AIC/BIC.</li>
</ul></li>
<li><strong>Add Fixed Effects Incrementally</strong>:
<ul>
<li>Start with primary predictors and gradually include covariates, using <code>anova()</code> to compare nested models.</li>
<li>Check for interactions only after establishing main effects.</li>
</ul></li>
<li><strong>Assess the Final Model</strong>:
<ul>
<li>Compare the best candidate models (fixed vs. random) using AIC, AICc, BIC, and likelihood ratio tests.</li>
<li>Select the model that balances fit and interpretability.</li>
</ul></li>
</ol>
<p>This structured approach ensures that both theoretical considerations and statistical criteria are employed for robust model selection in meta-analyses.</p>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="what-is-an-effect-size.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analysing-model-variability.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/05_fit_models.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
