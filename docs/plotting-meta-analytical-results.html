<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Plotting meta-analytical results | Calculate and combine the effect-sizes</title>
  <meta name="description" content="<p>This is beta-version of the visualisation exercice.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Plotting meta-analytical results | Calculate and combine the effect-sizes" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is beta-version of the visualisation exercice.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Plotting meta-analytical results | Calculate and combine the effect-sizes" />
  
  <meta name="twitter:description" content="<p>This is beta-version of the visualisation exercice.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="Damien Beillouin" />


<meta name="date" content="2024-09-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="analysing-model-variability.html"/>
<link rel="next" href="analysis-and-visualization-of-publication-bias.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Meta-analyses</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html"><i class="fa fa-check"></i><b>1</b> What is an Effect Size?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#visual-representation-of-effect-sizes"><i class="fa fa-check"></i><b>1.1</b> Visual representation of effect-sizes</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#different-metrics-for-measuring-effect-sizes"><i class="fa fa-check"></i><b>1.1.1</b> Different Metrics for Measuring Effect Sizes</a></li>
<li class="chapter" data-level="1.1.2" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#how-to-measure-variability"><i class="fa fa-check"></i><b>1.1.2</b> How to Measure Variability</a></li>
<li class="chapter" data-level="1.1.3" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#what-variability-means"><i class="fa fa-check"></i><b>1.1.3</b> What Variability Means</a></li>
<li class="chapter" data-level="1.1.4" data-path="what-is-an-effect-size.html"><a href="what-is-an-effect-size.html#comparison-of-effect-size-and-p-value"><i class="fa fa-check"></i><b>1.1.4</b> Comparison of Effect Size and p-Value</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html"><i class="fa fa-check"></i><b>2</b> Comparative meta-analytic methods for evidence synthesis</a>
<ul>
<li class="chapter" data-level="2.1" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#equal-effects-model"><i class="fa fa-check"></i><b>2.1</b> Equal-Effects Model</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-data"><i class="fa fa-check"></i><b>2.1.1</b> Example Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#fitting-the-equal-effects-model"><i class="fa fa-check"></i><b>2.1.2</b> Fitting the Equal-Effects Model</a></li>
<li class="chapter" data-level="2.1.3" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparison-of-results"><i class="fa fa-check"></i><b>2.1.3</b> Comparison of Results</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#random-effects-model"><i class="fa fa-check"></i><b>2.2</b> Random-Effects Model</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#fitting-the-random-effects-model"><i class="fa fa-check"></i><b>2.2.1</b> Fitting the Random-Effects Model</a></li>
<li class="chapter" data-level="2.2.2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#comparison-of-results-1"><i class="fa fa-check"></i><b>2.2.2</b> Comparison of Results</a></li>
<li class="chapter" data-level="2.2.3" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#meta-forest-analysis-a-comparison-with-classical-meta-analytic-models"><i class="fa fa-check"></i><b>2.2.3</b> Meta-Forest Analysis: A Comparison with Classical Meta-Analytic Models</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#conclusion"><i class="fa fa-check"></i><b>2.3</b> Conclusion</a></li>
<li class="chapter" data-level="2.4" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#practical-implementations"><i class="fa fa-check"></i><b>2.4</b> Practical implementations</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-1-fixed-vs.-random-meta-analysis-models"><i class="fa fa-check"></i><b>2.4.1</b> Example 1: fixed vs. random Meta-Analysis models</a></li>
<li class="chapter" data-level="2.4.2" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-2-comparing-heterogeneity-across-models"><i class="fa fa-check"></i><b>2.4.2</b> Example 2: Comparing Heterogeneity across models</a></li>
<li class="chapter" data-level="2.4.3" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#example-3-multi-level-meta-analysis-with-hierarchical-data"><i class="fa fa-check"></i><b>2.4.3</b> Example 3: Multi-Level meta-Analysis with hierarchical Data</a></li>
<li class="chapter" data-level="2.4.4" data-path="comparative-meta-analytic-methods-for-evidence-synthesis.html"><a href="comparative-meta-analytic-methods-for-evidence-synthesis.html#model-selection-in-meta-analysis"><i class="fa fa-check"></i><b>2.4.4</b> Model Selection in Meta-Analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html"><i class="fa fa-check"></i><b>3</b> Analysing model variability</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html#using-parametric-and-non-parametric-bootstrapping-to-estimate-confidence-intervals-in-meta-analyses"><i class="fa fa-check"></i><b>3.0.1</b> Using Parametric and Non-Parametric Bootstrapping to Estimate Confidence Intervals in Meta-Analyses</a></li>
<li class="chapter" data-level="3.0.2" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html#parametric-bootstrapping-step-by-step-example"><i class="fa fa-check"></i><b>3.0.2</b> Parametric Bootstrapping: Step-by-Step Example</a></li>
<li class="chapter" data-level="3.0.3" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html#non-parametric-bootstrapping-step-by-step-example"><i class="fa fa-check"></i><b>3.0.3</b> Non-Parametric Bootstrapping: Step-by-Step Example</a></li>
<li class="chapter" data-level="3.0.4" data-path="analysing-model-variability.html"><a href="analysing-model-variability.html#conclusion-1"><i class="fa fa-check"></i><b>3.0.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html"><i class="fa fa-check"></i><b>4</b> Plotting meta-analytical results</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#overview"><i class="fa fa-check"></i><b>4.0.1</b> Overview</a></li>
<li class="chapter" data-level="4.0.2" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#example-1-forest-plot-with-metafor"><i class="fa fa-check"></i><b>4.0.2</b> Example 1: Forest plot with metafor</a></li>
<li class="chapter" data-level="4.0.3" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#example-2-forest-plot-with-meta"><i class="fa fa-check"></i><b>4.0.3</b> Example 2: Forest plot with meta</a></li>
<li class="chapter" data-level="4.0.4" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#example-3-forest-plot-with-ggplot"><i class="fa fa-check"></i><b>4.0.4</b> Example 3: Forest plot with ggplot</a></li>
<li class="chapter" data-level="4.0.5" data-path="plotting-meta-analytical-results.html"><a href="plotting-meta-analytical-results.html#example-4-orchard-plots"><i class="fa fa-check"></i><b>4.0.5</b> Example 4: Orchard plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html"><i class="fa fa-check"></i><b>5</b> Analysis and Visualization of Publication Bias</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#funnel-plots"><i class="fa fa-check"></i><b>5.0.1</b> Funnel Plots</a></li>
<li class="chapter" data-level="5.0.2" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#trim-and-fill-method"><i class="fa fa-check"></i><b>5.0.2</b> Trim and Fill Method</a></li>
<li class="chapter" data-level="5.0.3" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#egger-test"><i class="fa fa-check"></i><b>5.0.3</b> Egger Test</a></li>
<li class="chapter" data-level="5.0.4" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#rosenthals-fail-safe-n"><i class="fa fa-check"></i><b>5.0.4</b> Rosenthal’s Fail-Safe N</a></li>
<li class="chapter" data-level="5.0.5" data-path="analysis-and-visualization-of-publication-bias.html"><a href="analysis-and-visualization-of-publication-bias.html#robust-bayesian-meta-analysis-robma"><i class="fa fa-check"></i><b>5.0.5</b> Robust Bayesian Meta-Analysis (RoBMA)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Calculate and combine the effect-sizes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="plotting-meta-analytical-results" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Plotting meta-analytical results<a href="plotting-meta-analytical-results.html#plotting-meta-analytical-results" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="overview" class="section level3 hasAnchor" number="4.0.1">
<h3><span class="header-section-number">4.0.1</span> Overview<a href="plotting-meta-analytical-results.html#overview" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This chapter focuses on the visualization of meta-analytical results, which is crucial for effectively communicating findings and insights drawn from aggregated data. Visualization techniques help researchers and stakeholders quickly grasp complex relationships and patterns within the data. In this chapter, we will cover various plotting methods, including forest plots, funnel plots, and advanced visualizations using R packages such as <code>ggplot2</code>, <code>metafor</code>, and <code>dmetar</code>.</p>
</div>
<div id="example-1-forest-plot-with-metafor" class="section level3 hasAnchor" number="4.0.2">
<h3><span class="header-section-number">4.0.2</span> Example 1: Forest plot with metafor<a href="plotting-meta-analytical-results.html#example-1-forest-plot-with-metafor" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="plotting-meta-analytical-results.html#cb53-1" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">author =</span> <span class="fu">c</span>(<span class="st">&quot;Dyson&quot;</span>, <span class="st">&quot;Jönsson&quot;</span>, <span class="st">&quot;Morris&quot;</span>, <span class="st">&quot;Saslow&quot;</span>, <span class="st">&quot;Saslow&quot;</span>, <span class="st">&quot;Sato&quot;</span>, <span class="st">&quot;Tay&quot;</span>, <span class="st">&quot;Yamada&quot;</span>),</span>
<span id="cb53-2"><a href="plotting-meta-analytical-results.html#cb53-2" tabindex="-1"></a>                  <span class="at">year   =</span> <span class="fu">c</span>(<span class="dv">2010</span>, <span class="dv">2009</span>, <span class="dv">2019</span>, <span class="dv">2014</span>, <span class="dv">2017</span>, <span class="dv">2017</span>, <span class="dv">2014</span>, <span class="dv">2014</span>),</span>
<span id="cb53-3"><a href="plotting-meta-analytical-results.html#cb53-3" tabindex="-1"></a>                  <span class="at">ai     =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">11</span>, <span class="dv">8</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">36</span>, <span class="dv">2</span>), <span class="do">##Nb event experimental group</span></span>
<span id="cb53-4"><a href="plotting-meta-analytical-results.html#cb53-4" tabindex="-1"></a>                  <span class="at">n1i    =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">21</span>, <span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">22</span>, <span class="dv">46</span>, <span class="dv">12</span>), <span class="do">## Total experimental group</span></span>
<span id="cb53-5"><a href="plotting-meta-analytical-results.html#cb53-5" tabindex="-1"></a>                  <span class="at">ci     =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">2</span>),  <span class="do">## Nb events control group</span></span>
<span id="cb53-6"><a href="plotting-meta-analytical-results.html#cb53-6" tabindex="-1"></a>                  <span class="at">n2i    =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">13</span>, <span class="dv">8</span>, <span class="dv">27</span>, <span class="dv">47</span>, <span class="dv">12</span>))  <span class="do">## Total control group</span></span>
<span id="cb53-7"><a href="plotting-meta-analytical-results.html#cb53-7" tabindex="-1"></a></span>
<span id="cb53-8"><a href="plotting-meta-analytical-results.html#cb53-8" tabindex="-1"></a><span class="do">### calculate risk differences and corresponding sampling variances (and use</span></span>
<span id="cb53-9"><a href="plotting-meta-analytical-results.html#cb53-9" tabindex="-1"></a><span class="do">### the &#39;slab&#39; argument to store study labels as part of the data frame)</span></span>
<span id="cb53-10"><a href="plotting-meta-analytical-results.html#cb53-10" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">escalc</span>(<span class="at">measure =</span> <span class="st">&quot;RD&quot;</span>, <span class="at">ai =</span> ai, <span class="at">n1i =</span> n1i, <span class="at">ci =</span> ci, <span class="at">n2i =</span> n2i, <span class="at">data =</span> dat,</span>
<span id="cb53-11"><a href="plotting-meta-analytical-results.html#cb53-11" tabindex="-1"></a>              <span class="at">slab =</span> <span class="fu">paste</span>(<span class="st">&quot; &quot;</span>, author, year), <span class="at">addyi =</span> <span class="cn">FALSE</span>)</span>
<span id="cb53-12"><a href="plotting-meta-analytical-results.html#cb53-12" tabindex="-1"></a></span>
<span id="cb53-13"><a href="plotting-meta-analytical-results.html#cb53-13" tabindex="-1"></a><span class="do">### fit random-effects model (using the DL estimator)</span></span>
<span id="cb53-14"><a href="plotting-meta-analytical-results.html#cb53-14" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">rma</span>(yi, vi, <span class="at">data =</span> dat, <span class="at">method =</span> <span class="st">&quot;DL&quot;</span>)</span>
<span id="cb53-15"><a href="plotting-meta-analytical-results.html#cb53-15" tabindex="-1"></a></span>
<span id="cb53-16"><a href="plotting-meta-analytical-results.html#cb53-16" tabindex="-1"></a><span class="do">### colors to be used in the plot</span></span>
<span id="cb53-17"><a href="plotting-meta-analytical-results.html#cb53-17" tabindex="-1"></a>colp <span class="ot">&lt;-</span> <span class="st">&quot;#6b58a6&quot;</span></span>
<span id="cb53-18"><a href="plotting-meta-analytical-results.html#cb53-18" tabindex="-1"></a>coll <span class="ot">&lt;-</span> <span class="st">&quot;#a7a9ac&quot;</span></span>
<span id="cb53-19"><a href="plotting-meta-analytical-results.html#cb53-19" tabindex="-1"></a></span>
<span id="cb53-20"><a href="plotting-meta-analytical-results.html#cb53-20" tabindex="-1"></a><span class="do">### total number of studies</span></span>
<span id="cb53-21"><a href="plotting-meta-analytical-results.html#cb53-21" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="fu">nrow</span>(dat)</span>
<span id="cb53-22"><a href="plotting-meta-analytical-results.html#cb53-22" tabindex="-1"></a></span>
<span id="cb53-23"><a href="plotting-meta-analytical-results.html#cb53-23" tabindex="-1"></a><span class="do">### generate point sizes</span></span>
<span id="cb53-24"><a href="plotting-meta-analytical-results.html#cb53-24" tabindex="-1"></a>psize <span class="ot">&lt;-</span> <span class="fu">weights</span>(res)</span>
<span id="cb53-25"><a href="plotting-meta-analytical-results.html#cb53-25" tabindex="-1"></a>psize <span class="ot">&lt;-</span> <span class="fl">1.2</span> <span class="sc">+</span> (psize <span class="sc">-</span> <span class="fu">min</span>(psize)) <span class="sc">/</span> (<span class="fu">max</span>(psize) <span class="sc">-</span> <span class="fu">min</span>(psize))</span>
<span id="cb53-26"><a href="plotting-meta-analytical-results.html#cb53-26" tabindex="-1"></a></span>
<span id="cb53-27"><a href="plotting-meta-analytical-results.html#cb53-27" tabindex="-1"></a><span class="do">### get the weights and format them as will be used in the forest plot</span></span>
<span id="cb53-28"><a href="plotting-meta-analytical-results.html#cb53-28" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">weights</span>(res), <span class="dv">1</span>)</span>
<span id="cb53-29"><a href="plotting-meta-analytical-results.html#cb53-29" tabindex="-1"></a></span>
<span id="cb53-30"><a href="plotting-meta-analytical-results.html#cb53-30" tabindex="-1"></a><span class="do">### adjust the margins</span></span>
<span id="cb53-31"><a href="plotting-meta-analytical-results.html#cb53-31" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="fl">2.7</span>, <span class="fl">3.2</span>, <span class="fl">2.3</span>, <span class="fl">1.3</span>), <span class="at">mgp =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="at">tcl =</span> <span class="fl">0.15</span>)</span>
<span id="cb53-32"><a href="plotting-meta-analytical-results.html#cb53-32" tabindex="-1"></a></span>
<span id="cb53-33"><a href="plotting-meta-analytical-results.html#cb53-33" tabindex="-1"></a><span class="do">### forest plot with extra annotations</span></span>
<span id="cb53-34"><a href="plotting-meta-analytical-results.html#cb53-34" tabindex="-1"></a>sav <span class="ot">&lt;-</span> <span class="fu">forest</span>(dat<span class="sc">$</span>yi, dat<span class="sc">$</span>vi, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">3.4</span>, <span class="fl">2.1</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>, k <span class="sc">+</span> <span class="dv">3</span>), <span class="at">alim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="at">cex =</span> <span class="fl">0.88</span>,</span>
<span id="cb53-35"><a href="plotting-meta-analytical-results.html#cb53-35" tabindex="-1"></a>              <span class="at">pch =</span> <span class="dv">18</span>, <span class="at">psize =</span> psize, <span class="at">efac =</span> <span class="dv">0</span>, <span class="at">refline =</span> <span class="cn">NA</span>, <span class="at">lty =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>), <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb53-36"><a href="plotting-meta-analytical-results.html#cb53-36" tabindex="-1"></a>              <span class="at">ilab =</span> <span class="fu">cbind</span>(<span class="fu">paste</span>(dat<span class="sc">$</span>ai, <span class="st">&quot;/&quot;</span>, dat<span class="sc">$</span>n1i), <span class="fu">paste</span>(dat<span class="sc">$</span>ci, <span class="st">&quot;/&quot;</span>, dat<span class="sc">$</span>n2i), weights),</span>
<span id="cb53-37"><a href="plotting-meta-analytical-results.html#cb53-37" tabindex="-1"></a>              <span class="at">ilab.xpos =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.9</span>, <span class="sc">-</span><span class="fl">1.3</span>, <span class="fl">1.2</span>), <span class="at">annosym =</span> <span class="fu">c</span>(<span class="st">&quot; (&quot;</span>, <span class="st">&quot; to &quot;</span>, <span class="st">&quot;)&quot;</span>),</span>
<span id="cb53-38"><a href="plotting-meta-analytical-results.html#cb53-38" tabindex="-1"></a>              <span class="at">rowadj =</span> <span class="sc">-</span><span class="fl">0.07</span>)</span>
<span id="cb53-39"><a href="plotting-meta-analytical-results.html#cb53-39" tabindex="-1"></a></span>
<span id="cb53-40"><a href="plotting-meta-analytical-results.html#cb53-40" tabindex="-1"></a><span class="do">### add the vertical reference line at 0</span></span>
<span id="cb53-41"><a href="plotting-meta-analytical-results.html#cb53-41" tabindex="-1"></a><span class="fu">segments</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, k <span class="sc">+</span> <span class="fl">1.6</span>, <span class="at">col =</span> coll)</span>
<span id="cb53-42"><a href="plotting-meta-analytical-results.html#cb53-42" tabindex="-1"></a></span>
<span id="cb53-43"><a href="plotting-meta-analytical-results.html#cb53-43" tabindex="-1"></a><span class="do">### add the vertical reference line at the pooled estimate</span></span>
<span id="cb53-44"><a href="plotting-meta-analytical-results.html#cb53-44" tabindex="-1"></a><span class="fu">segments</span>(<span class="fu">coef</span>(res), <span class="dv">0</span>, <span class="fu">coef</span>(res), k, <span class="at">col =</span> colp, <span class="at">lty =</span> <span class="st">&quot;33&quot;</span>, <span class="at">lwd =</span> <span class="fl">0.8</span>)</span>
<span id="cb53-45"><a href="plotting-meta-analytical-results.html#cb53-45" tabindex="-1"></a></span>
<span id="cb53-46"><a href="plotting-meta-analytical-results.html#cb53-46" tabindex="-1"></a><span class="do">### redraw the CI lines and points in the chosen color</span></span>
<span id="cb53-47"><a href="plotting-meta-analytical-results.html#cb53-47" tabindex="-1"></a><span class="fu">segments</span>(<span class="fu">summary</span>(dat)<span class="sc">$</span>ci.lb, k<span class="sc">:</span><span class="dv">1</span>, <span class="fu">summary</span>(dat)<span class="sc">$</span>ci.ub, k<span class="sc">:</span><span class="dv">1</span>, <span class="at">col =</span> colp, <span class="at">lwd =</span> <span class="fl">1.5</span>)</span>
<span id="cb53-48"><a href="plotting-meta-analytical-results.html#cb53-48" tabindex="-1"></a><span class="fu">points</span>(dat<span class="sc">$</span>yi, k<span class="sc">:</span><span class="dv">1</span>, <span class="at">pch =</span> <span class="dv">18</span>, <span class="at">cex =</span> psize <span class="sc">*</span> <span class="fl">1.15</span>, <span class="at">col =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb53-49"><a href="plotting-meta-analytical-results.html#cb53-49" tabindex="-1"></a><span class="fu">points</span>(dat<span class="sc">$</span>yi, k<span class="sc">:</span><span class="dv">1</span>, <span class="at">pch =</span> <span class="dv">18</span>, <span class="at">cex =</span> psize, <span class="at">col =</span> colp)</span>
<span id="cb53-50"><a href="plotting-meta-analytical-results.html#cb53-50" tabindex="-1"></a></span>
<span id="cb53-51"><a href="plotting-meta-analytical-results.html#cb53-51" tabindex="-1"></a><span class="do">### add the summary polygon</span></span>
<span id="cb53-52"><a href="plotting-meta-analytical-results.html#cb53-52" tabindex="-1"></a><span class="fu">addpoly</span>(res, <span class="at">row =</span> <span class="dv">0</span>, <span class="at">mlab =</span> <span class="st">&quot;Total (95% CI)&quot;</span>, <span class="at">efac =</span> <span class="dv">2</span>, <span class="at">col =</span> colp, <span class="at">border =</span> colp)</span>
<span id="cb53-53"><a href="plotting-meta-analytical-results.html#cb53-53" tabindex="-1"></a></span>
<span id="cb53-54"><a href="plotting-meta-analytical-results.html#cb53-54" tabindex="-1"></a><span class="do">### add the horizontal line at the top</span></span>
<span id="cb53-55"><a href="plotting-meta-analytical-results.html#cb53-55" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> k <span class="sc">+</span> <span class="fl">1.6</span>, <span class="at">col =</span> coll)</span>
<span id="cb53-56"><a href="plotting-meta-analytical-results.html#cb53-56" tabindex="-1"></a></span>
<span id="cb53-57"><a href="plotting-meta-analytical-results.html#cb53-57" tabindex="-1"></a><span class="do">### redraw the x-axis in the chosen color</span></span>
<span id="cb53-58"><a href="plotting-meta-analytical-results.html#cb53-58" tabindex="-1"></a><span class="fu">axis</span>(<span class="at">side =</span> <span class="dv">1</span>, <span class="at">at =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.5</span>), <span class="at">col =</span> coll, <span class="at">labels =</span> <span class="cn">FALSE</span>)</span>
<span id="cb53-59"><a href="plotting-meta-analytical-results.html#cb53-59" tabindex="-1"></a></span>
<span id="cb53-60"><a href="plotting-meta-analytical-results.html#cb53-60" tabindex="-1"></a><span class="do">### now we add a bunch of text; since some of the text falls outside of the</span></span>
<span id="cb53-61"><a href="plotting-meta-analytical-results.html#cb53-61" tabindex="-1"></a><span class="do">### plot region, we set xpd=NA so nothing gets clipped</span></span>
<span id="cb53-62"><a href="plotting-meta-analytical-results.html#cb53-62" tabindex="-1"></a><span class="fu">par</span>(<span class="at">xpd =</span> <span class="cn">NA</span>)</span>
<span id="cb53-63"><a href="plotting-meta-analytical-results.html#cb53-63" tabindex="-1"></a></span>
<span id="cb53-64"><a href="plotting-meta-analytical-results.html#cb53-64" tabindex="-1"></a><span class="do">### adjust cex as used in the forest plot and use a bold font</span></span>
<span id="cb53-65"><a href="plotting-meta-analytical-results.html#cb53-65" tabindex="-1"></a><span class="fu">par</span>(<span class="at">cex =</span> sav<span class="sc">$</span>cex, <span class="at">font =</span> <span class="dv">2</span>)</span>
<span id="cb53-66"><a href="plotting-meta-analytical-results.html#cb53-66" tabindex="-1"></a></span>
<span id="cb53-67"><a href="plotting-meta-analytical-results.html#cb53-67" tabindex="-1"></a><span class="do">### add headings</span></span>
<span id="cb53-68"><a href="plotting-meta-analytical-results.html#cb53-68" tabindex="-1"></a><span class="fu">text</span>(sav<span class="sc">$</span>xlim[<span class="dv">1</span>], k <span class="sc">+</span> <span class="fl">2.5</span>, <span class="at">pos =</span> <span class="dv">4</span>, <span class="st">&quot;Study or</span><span class="sc">\n</span><span class="st">subgroup&quot;</span>)</span>
<span id="cb53-69"><a href="plotting-meta-analytical-results.html#cb53-69" tabindex="-1"></a><span class="fu">text</span>(<span class="fu">mean</span>(sav<span class="sc">$</span>ilab.xpos[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), k <span class="sc">+</span> <span class="fl">3.4</span>, <span class="st">&quot;No of events / total&quot;</span>)</span>
<span id="cb53-70"><a href="plotting-meta-analytical-results.html#cb53-70" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">0</span>, k <span class="sc">+</span> <span class="fl">2.7</span>, <span class="st">&quot;Risk difference, IV,</span><span class="sc">\n</span><span class="st">random (95% CI)&quot;</span>)</span>
<span id="cb53-71"><a href="plotting-meta-analytical-results.html#cb53-71" tabindex="-1"></a><span class="fu">text</span>(<span class="fu">c</span>(sav<span class="sc">$</span>ilab.xpos[<span class="dv">3</span>], sav<span class="sc">$</span>xlim[<span class="dv">2</span>] <span class="sc">-</span> <span class="fl">0.35</span>), k <span class="sc">+</span> <span class="fl">2.7</span>, <span class="fu">c</span>(<span class="st">&quot;Weight</span><span class="sc">\n</span><span class="st">(%)&quot;</span>, <span class="st">&quot;Risk difference, IV,</span><span class="sc">\n</span><span class="st">random (95% CI)&quot;</span>))</span>
<span id="cb53-72"><a href="plotting-meta-analytical-results.html#cb53-72" tabindex="-1"></a></span>
<span id="cb53-73"><a href="plotting-meta-analytical-results.html#cb53-73" tabindex="-1"></a><span class="do">### add &#39;Favours control&#39;/&#39;Favours experimental&#39; text below the x-axis</span></span>
<span id="cb53-74"><a href="plotting-meta-analytical-results.html#cb53-74" tabindex="-1"></a><span class="fu">text</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="sc">-</span><span class="fl">2.5</span>, <span class="fu">c</span>(<span class="st">&quot;Favors control&quot;</span>, <span class="st">&quot;Favors experimental&quot;</span>), <span class="at">pos =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">2</span>), <span class="at">offset =</span> <span class="sc">-</span><span class="fl">0.3</span>)</span>
<span id="cb53-75"><a href="plotting-meta-analytical-results.html#cb53-75" tabindex="-1"></a></span>
<span id="cb53-76"><a href="plotting-meta-analytical-results.html#cb53-76" tabindex="-1"></a><span class="do">### use a non-bold font for the rest of the text</span></span>
<span id="cb53-77"><a href="plotting-meta-analytical-results.html#cb53-77" tabindex="-1"></a><span class="fu">par</span>(<span class="at">cex =</span> sav<span class="sc">$</span>cex, <span class="at">font =</span> <span class="dv">1</span>)</span>
<span id="cb53-78"><a href="plotting-meta-analytical-results.html#cb53-78" tabindex="-1"></a></span>
<span id="cb53-79"><a href="plotting-meta-analytical-results.html#cb53-79" tabindex="-1"></a><span class="do">### add text with heterogeneity statistics</span></span>
<span id="cb53-80"><a href="plotting-meta-analytical-results.html#cb53-80" tabindex="-1"></a><span class="fu">text</span>(sav<span class="sc">$</span>xlim[<span class="dv">1</span>], <span class="sc">-</span><span class="dv">1</span>, <span class="at">pos =</span> <span class="dv">4</span>, <span class="fu">bquote</span>(<span class="fu">paste</span>(<span class="st">&quot;Test for heterogeneity: &quot;</span>,</span>
<span id="cb53-81"><a href="plotting-meta-analytical-results.html#cb53-81" tabindex="-1"></a>                                          tau<span class="sc">^</span><span class="dv">2</span>, <span class="st">&quot;=&quot;</span>, .(<span class="fu">round</span>(res<span class="sc">$</span>tau2, <span class="at">digits =</span> <span class="dv">2</span>)), <span class="st">&quot;; &quot;</span>,</span>
<span id="cb53-82"><a href="plotting-meta-analytical-results.html#cb53-82" tabindex="-1"></a>                                          I<span class="sc">^</span><span class="dv">2</span>, <span class="st">&quot;=&quot;</span>, .(<span class="fu">round</span>(res<span class="sc">$</span>I2, <span class="at">digits =</span> <span class="dv">2</span>)), <span class="st">&quot;%&quot;</span>)))</span>
<span id="cb53-83"><a href="plotting-meta-analytical-results.html#cb53-83" tabindex="-1"></a></span>
<span id="cb53-84"><a href="plotting-meta-analytical-results.html#cb53-84" tabindex="-1"></a><span class="do">### add text with overall estimate</span></span>
<span id="cb53-85"><a href="plotting-meta-analytical-results.html#cb53-85" tabindex="-1"></a><span class="fu">text</span>(sav<span class="sc">$</span>xlim[<span class="dv">1</span>], <span class="sc">-</span><span class="fl">2.5</span>, <span class="at">pos =</span> <span class="dv">4</span>, <span class="fu">bquote</span>(<span class="fu">paste</span>(<span class="st">&quot;Overall effect: &quot;</span>,</span>
<span id="cb53-86"><a href="plotting-meta-analytical-results.html#cb53-86" tabindex="-1"></a>                                              riskdiff <span class="sc">==</span> .(<span class="fu">round</span>(<span class="fu">coef</span>(res), <span class="at">digits =</span> <span class="dv">2</span>)))))</span>
<span id="cb53-87"><a href="plotting-meta-analytical-results.html#cb53-87" tabindex="-1"></a></span>
<span id="cb53-88"><a href="plotting-meta-analytical-results.html#cb53-88" tabindex="-1"></a><span class="do">### add titles</span></span>
<span id="cb53-89"><a href="plotting-meta-analytical-results.html#cb53-89" tabindex="-1"></a><span class="fu">text</span>(sav<span class="sc">$</span>xlim[<span class="dv">1</span>], k <span class="sc">+</span> <span class="fl">4.5</span>, <span class="at">pos =</span> <span class="dv">4</span>, <span class="st">&quot;Risk difference between low and very low carbohydrate diets&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
</div>
<div id="example-2-forest-plot-with-meta" class="section level3 hasAnchor" number="4.0.3">
<h3><span class="header-section-number">4.0.3</span> Example 2: Forest plot with meta<a href="plotting-meta-analytical-results.html#example-2-forest-plot-with-meta" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="plotting-meta-analytical-results.html#cb54-1" tabindex="-1"></a><span class="fu">library</span>(meta)</span>
<span id="cb54-2"><a href="plotting-meta-analytical-results.html#cb54-2" tabindex="-1"></a><span class="co"># Perform meta-analysis using the metagen function from `meta`</span></span>
<span id="cb54-3"><a href="plotting-meta-analytical-results.html#cb54-3" tabindex="-1"></a><span class="co"># Perform meta-analysis using the metagen function from `meta`</span></span>
<span id="cb54-4"><a href="plotting-meta-analytical-results.html#cb54-4" tabindex="-1"></a>meta_analysis <span class="ot">&lt;-</span> <span class="fu">metagen</span>(</span>
<span id="cb54-5"><a href="plotting-meta-analytical-results.html#cb54-5" tabindex="-1"></a>  <span class="at">TE =</span> dat<span class="sc">$</span>yi,  <span class="co"># Use the calculated effect sizes</span></span>
<span id="cb54-6"><a href="plotting-meta-analytical-results.html#cb54-6" tabindex="-1"></a>  <span class="at">seTE =</span> <span class="fu">sqrt</span>(dat<span class="sc">$</span>vi),  <span class="co"># Standard errors</span></span>
<span id="cb54-7"><a href="plotting-meta-analytical-results.html#cb54-7" tabindex="-1"></a>  <span class="at">studlab =</span> <span class="fu">paste</span>(dat<span class="sc">$</span>author, dat<span class="sc">$</span>year),</span>
<span id="cb54-8"><a href="plotting-meta-analytical-results.html#cb54-8" tabindex="-1"></a>  <span class="at">data =</span> dat,</span>
<span id="cb54-9"><a href="plotting-meta-analytical-results.html#cb54-9" tabindex="-1"></a>  <span class="at">sm =</span> <span class="st">&quot;RD&quot;</span>,  <span class="co"># Risk Difference as the summary measure</span></span>
<span id="cb54-10"><a href="plotting-meta-analytical-results.html#cb54-10" tabindex="-1"></a>  <span class="at">fixed =</span> <span class="cn">FALSE</span>,  <span class="co"># Using a random-effects model</span></span>
<span id="cb54-11"><a href="plotting-meta-analytical-results.html#cb54-11" tabindex="-1"></a>  <span class="at">random =</span> <span class="cn">TRUE</span>,</span>
<span id="cb54-12"><a href="plotting-meta-analytical-results.html#cb54-12" tabindex="-1"></a>  <span class="at">method.tau =</span> <span class="st">&quot;REML&quot;</span>,  <span class="co"># Restricted maximum likelihood estimator</span></span>
<span id="cb54-13"><a href="plotting-meta-analytical-results.html#cb54-13" tabindex="-1"></a>  <span class="at">hakn =</span> <span class="cn">TRUE</span>,  <span class="co"># Knapp-Hartung adjustment</span></span>
<span id="cb54-14"><a href="plotting-meta-analytical-results.html#cb54-14" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Risk Difference between Diet Groups&quot;</span></span>
<span id="cb54-15"><a href="plotting-meta-analytical-results.html#cb54-15" tabindex="-1"></a>)</span>
<span id="cb54-16"><a href="plotting-meta-analytical-results.html#cb54-16" tabindex="-1"></a></span>
<span id="cb54-17"><a href="plotting-meta-analytical-results.html#cb54-17" tabindex="-1"></a><span class="co"># Create a forest plot with custom options and store the output</span></span>
<span id="cb54-18"><a href="plotting-meta-analytical-results.html#cb54-18" tabindex="-1"></a>forest_plot <span class="ot">&lt;-</span> meta<span class="sc">::</span><span class="fu">forest</span>(</span>
<span id="cb54-19"><a href="plotting-meta-analytical-results.html#cb54-19" tabindex="-1"></a>  meta_analysis,</span>
<span id="cb54-20"><a href="plotting-meta-analytical-results.html#cb54-20" tabindex="-1"></a>  <span class="at">prediction =</span> <span class="cn">TRUE</span>,  <span class="co"># Add a prediction interval</span></span>
<span id="cb54-21"><a href="plotting-meta-analytical-results.html#cb54-21" tabindex="-1"></a>  <span class="at">print.tau2 =</span> <span class="cn">TRUE</span>,  <span class="co"># Print the tau-squared statistic in the plot</span></span>
<span id="cb54-22"><a href="plotting-meta-analytical-results.html#cb54-22" tabindex="-1"></a>  <span class="at">leftlabs =</span> <span class="fu">c</span>(<span class="st">&quot;Study&quot;</span>, <span class="st">&quot;Risk Diff&quot;</span>, <span class="st">&quot;Std. Error&quot;</span>),  <span class="co"># Custom labels</span></span>
<span id="cb54-23"><a href="plotting-meta-analytical-results.html#cb54-23" tabindex="-1"></a>  <span class="at">lab.e =</span> <span class="st">&quot;Favours Low Carb&quot;</span>,  <span class="co"># Label for experimental group</span></span>
<span id="cb54-24"><a href="plotting-meta-analytical-results.html#cb54-24" tabindex="-1"></a>  <span class="at">lab.c =</span> <span class="st">&quot;Favours Control&quot;</span>,  <span class="co"># Label for control group</span></span>
<span id="cb54-25"><a href="plotting-meta-analytical-results.html#cb54-25" tabindex="-1"></a>  <span class="at">col.study =</span> <span class="st">&quot;#6b58a6&quot;</span>,  <span class="co"># Study point color</span></span>
<span id="cb54-26"><a href="plotting-meta-analytical-results.html#cb54-26" tabindex="-1"></a>  <span class="at">col.diamond =</span> <span class="st">&quot;#5e84c0&quot;</span>,  <span class="co"># Color of the summary diamond</span></span>
<span id="cb54-27"><a href="plotting-meta-analytical-results.html#cb54-27" tabindex="-1"></a>  <span class="at">col.square =</span> <span class="st">&quot;white&quot;</span>  <span class="co"># Color for individual study estimates</span></span>
<span id="cb54-28"><a href="plotting-meta-analytical-results.html#cb54-28" tabindex="-1"></a>)</span>
<span id="cb54-29"><a href="plotting-meta-analytical-results.html#cb54-29" tabindex="-1"></a></span>
<span id="cb54-30"><a href="plotting-meta-analytical-results.html#cb54-30" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb54-31"><a href="plotting-meta-analytical-results.html#cb54-31" tabindex="-1"></a><span class="fu">grid.text</span>(<span class="st">&quot;Meta-analysis of Risk Differences in Diet Studies&quot;</span>, </span>
<span id="cb54-32"><a href="plotting-meta-analytical-results.html#cb54-32" tabindex="-1"></a>          <span class="at">x =</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="fu">unit</span>(<span class="fl">0.95</span>, <span class="st">&quot;npc&quot;</span>), </span>
<span id="cb54-33"><a href="plotting-meta-analytical-results.html#cb54-33" tabindex="-1"></a>          <span class="at">gp =</span> <span class="fu">gpar</span>(<span class="at">fontsize =</span> <span class="dv">14</span>, <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span>))</span>
<span id="cb54-34"><a href="plotting-meta-analytical-results.html#cb54-34" tabindex="-1"></a><span class="fu">grid.text</span>(<span class="st">&quot;Random-effects model with Knapp-Hartung adjustments&quot;</span>, </span>
<span id="cb54-35"><a href="plotting-meta-analytical-results.html#cb54-35" tabindex="-1"></a>          <span class="at">x =</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="fu">unit</span>(<span class="fl">0.93</span>, <span class="st">&quot;npc&quot;</span>), </span>
<span id="cb54-36"><a href="plotting-meta-analytical-results.html#cb54-36" tabindex="-1"></a>          <span class="at">gp =</span> <span class="fu">gpar</span>(<span class="at">fontsize =</span> <span class="dv">12</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
</div>
<div id="example-3-forest-plot-with-ggplot" class="section level3 hasAnchor" number="4.0.4">
<h3><span class="header-section-number">4.0.4</span> Example 3: Forest plot with ggplot<a href="plotting-meta-analytical-results.html#example-3-forest-plot-with-ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="plotting-meta-analytical-results.html#cb55-1" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb55-2"><a href="plotting-meta-analytical-results.html#cb55-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb55-3"><a href="plotting-meta-analytical-results.html#cb55-3" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb55-4"><a href="plotting-meta-analytical-results.html#cb55-4" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb55-5"><a href="plotting-meta-analytical-results.html#cb55-5" tabindex="-1"></a><span class="fu">library</span>(ggstar)</span>
<span id="cb55-6"><a href="plotting-meta-analytical-results.html#cb55-6" tabindex="-1"></a></span>
<span id="cb55-7"><a href="plotting-meta-analytical-results.html#cb55-7" tabindex="-1"></a><span class="co"># Prepare the data: Calculate estimates, confidence intervals, and other metrics</span></span>
<span id="cb55-8"><a href="plotting-meta-analytical-results.html#cb55-8" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb55-9"><a href="plotting-meta-analytical-results.html#cb55-9" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-10"><a href="plotting-meta-analytical-results.html#cb55-10" tabindex="-1"></a>    <span class="at">estimate =</span> yi,  <span class="co"># Estimated effect size</span></span>
<span id="cb55-11"><a href="plotting-meta-analytical-results.html#cb55-11" tabindex="-1"></a>    <span class="at">conf.low =</span> yi <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sqrt</span>(vi),  <span class="co"># Lower bound of the confidence interval</span></span>
<span id="cb55-12"><a href="plotting-meta-analytical-results.html#cb55-12" tabindex="-1"></a>    <span class="at">conf.high =</span> yi <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sqrt</span>(vi),  <span class="co"># Upper bound of the confidence interval</span></span>
<span id="cb55-13"><a href="plotting-meta-analytical-results.html#cb55-13" tabindex="-1"></a>    <span class="at">Sub_Cat_intervention =</span> <span class="fu">paste</span>(author, year)  <span class="co"># Combine author and year for labels</span></span>
<span id="cb55-14"><a href="plotting-meta-analytical-results.html#cb55-14" tabindex="-1"></a>  )</span>
<span id="cb55-15"><a href="plotting-meta-analytical-results.html#cb55-15" tabindex="-1"></a></span>
<span id="cb55-16"><a href="plotting-meta-analytical-results.html#cb55-16" tabindex="-1"></a><span class="co"># Create a ggplot forest plot</span></span>
<span id="cb55-17"><a href="plotting-meta-analytical-results.html#cb55-17" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(estimate, <span class="fu">reorder</span>(Sub_Cat_intervention, estimate))) <span class="sc">+</span></span>
<span id="cb55-18"><a href="plotting-meta-analytical-results.html#cb55-18" tabindex="-1"></a>  <span class="co"># Add stars for effect sizes</span></span>
<span id="cb55-19"><a href="plotting-meta-analytical-results.html#cb55-19" tabindex="-1"></a>  <span class="fu">geom_star</span>(<span class="at">starshape =</span> <span class="dv">12</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">starstroke =</span> <span class="fl">1.1</span>, <span class="at">color =</span> <span class="st">&quot;#6b58a6&quot;</span>) <span class="sc">+</span></span>
<span id="cb55-20"><a href="plotting-meta-analytical-results.html#cb55-20" tabindex="-1"></a>  <span class="co"># Add points for individual study estimates</span></span>
<span id="cb55-21"><a href="plotting-meta-analytical-results.html#cb55-21" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n1i), <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">fill =</span> <span class="st">&quot;#ff9d02&quot;</span>,</span>
<span id="cb55-22"><a href="plotting-meta-analytical-results.html#cb55-22" tabindex="-1"></a>             <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.6</span>)) <span class="sc">+</span></span>
<span id="cb55-23"><a href="plotting-meta-analytical-results.html#cb55-23" tabindex="-1"></a>  <span class="co"># Add error bars using confidence intervals</span></span>
<span id="cb55-24"><a href="plotting-meta-analytical-results.html#cb55-24" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> conf.low, <span class="at">xmax =</span> conf.high), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb55-25"><a href="plotting-meta-analytical-results.html#cb55-25" tabindex="-1"></a>                <span class="at">size =</span> <span class="fl">0.2</span>, <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb55-26"><a href="plotting-meta-analytical-results.html#cb55-26" tabindex="-1"></a>  <span class="co"># Add a vertical line at x = 0</span></span>
<span id="cb55-27"><a href="plotting-meta-analytical-results.html#cb55-27" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">&quot;gray&quot;</span>) <span class="sc">+</span></span>
<span id="cb55-28"><a href="plotting-meta-analytical-results.html#cb55-28" tabindex="-1"></a>  <span class="co"># Apply ggpubr theme</span></span>
<span id="cb55-29"><a href="plotting-meta-analytical-results.html#cb55-29" tabindex="-1"></a>  <span class="fu">theme_pubr</span>() <span class="sc">+</span></span>
<span id="cb55-30"><a href="plotting-meta-analytical-results.html#cb55-30" tabindex="-1"></a>  <span class="co"># Set x-axis limits</span></span>
<span id="cb55-31"><a href="plotting-meta-analytical-results.html#cb55-31" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">3.5</span>, <span class="fl">3.5</span>)) <span class="sc">+</span>  <span class="co"># Adjust limits based on your data</span></span>
<span id="cb55-32"><a href="plotting-meta-analytical-results.html#cb55-32" tabindex="-1"></a>  <span class="co"># Remove legend</span></span>
<span id="cb55-33"><a href="plotting-meta-analytical-results.html#cb55-33" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb55-34"><a href="plotting-meta-analytical-results.html#cb55-34" tabindex="-1"></a>  <span class="co"># Set axis labels</span></span>
<span id="cb55-35"><a href="plotting-meta-analytical-results.html#cb55-35" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Risk Difference (RD)&quot;</span>)</span>
<span id="cb55-36"><a href="plotting-meta-analytical-results.html#cb55-36" tabindex="-1"></a></span>
<span id="cb55-37"><a href="plotting-meta-analytical-results.html#cb55-37" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb55-38"><a href="plotting-meta-analytical-results.html#cb55-38" tabindex="-1"></a><span class="fu">print</span>(p)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
</div>
<div id="example-4-orchard-plots" class="section level3 hasAnchor" number="4.0.5">
<h3><span class="header-section-number">4.0.5</span> Example 4: Orchard plots<a href="plotting-meta-analytical-results.html#example-4-orchard-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="plotting-meta-analytical-results.html#cb56-1" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb56-2"><a href="plotting-meta-analytical-results.html#cb56-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb56-3"><a href="plotting-meta-analytical-results.html#cb56-3" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb56-4"><a href="plotting-meta-analytical-results.html#cb56-4" tabindex="-1"></a><span class="fu">library</span>(metafor)</span>
<span id="cb56-5"><a href="plotting-meta-analytical-results.html#cb56-5" tabindex="-1"></a><span class="fu">library</span>(ggbeeswarm)</span>
<span id="cb56-6"><a href="plotting-meta-analytical-results.html#cb56-6" tabindex="-1"></a></span>
<span id="cb56-7"><a href="plotting-meta-analytical-results.html#cb56-7" tabindex="-1"></a><span class="co"># Create a larger randomized dataset with valid constraints</span></span>
<span id="cb56-8"><a href="plotting-meta-analytical-results.html#cb56-8" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb56-9"><a href="plotting-meta-analytical-results.html#cb56-9" tabindex="-1"></a>n_studies <span class="ot">&lt;-</span> <span class="dv">30</span>  <span class="co"># Total number of studies</span></span>
<span id="cb56-10"><a href="plotting-meta-analytical-results.html#cb56-10" tabindex="-1"></a></span>
<span id="cb56-11"><a href="plotting-meta-analytical-results.html#cb56-11" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb56-12"><a href="plotting-meta-analytical-results.html#cb56-12" tabindex="-1"></a>  <span class="at">author =</span> <span class="fu">paste</span>(<span class="st">&quot;Study&quot;</span>, <span class="dv">1</span><span class="sc">:</span>n_studies),</span>
<span id="cb56-13"><a href="plotting-meta-analytical-results.html#cb56-13" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">sample</span>(<span class="dv">2000</span><span class="sc">:</span><span class="dv">2020</span>, n_studies, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb56-14"><a href="plotting-meta-analytical-results.html#cb56-14" tabindex="-1"></a>  <span class="at">n1i =</span> <span class="fu">sample</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">100</span>, n_studies, <span class="at">replace =</span> <span class="cn">TRUE</span>),  <span class="co"># Total in experimental group</span></span>
<span id="cb56-15"><a href="plotting-meta-analytical-results.html#cb56-15" tabindex="-1"></a>  <span class="at">n2i =</span> <span class="fu">sample</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">100</span>, n_studies, <span class="at">replace =</span> <span class="cn">TRUE</span>)   <span class="co"># Total in control group</span></span>
<span id="cb56-16"><a href="plotting-meta-analytical-results.html#cb56-16" tabindex="-1"></a>)</span>
<span id="cb56-17"><a href="plotting-meta-analytical-results.html#cb56-17" tabindex="-1"></a></span>
<span id="cb56-18"><a href="plotting-meta-analytical-results.html#cb56-18" tabindex="-1"></a><span class="co"># Randomly generate events ensuring that events do not exceed group sizes</span></span>
<span id="cb56-19"><a href="plotting-meta-analytical-results.html#cb56-19" tabindex="-1"></a>dat<span class="sc">$</span>ai <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span>n_studies, <span class="cf">function</span>(i) <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span>dat<span class="sc">$</span>n1i[i], <span class="dv">1</span>))  <span class="co"># Events in experimental group</span></span>
<span id="cb56-20"><a href="plotting-meta-analytical-results.html#cb56-20" tabindex="-1"></a>dat<span class="sc">$</span>ci <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span>n_studies, <span class="cf">function</span>(i) <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span>dat<span class="sc">$</span>n2i[i], <span class="dv">1</span>))  <span class="co"># Events in control group</span></span>
<span id="cb56-21"><a href="plotting-meta-analytical-results.html#cb56-21" tabindex="-1"></a></span>
<span id="cb56-22"><a href="plotting-meta-analytical-results.html#cb56-22" tabindex="-1"></a><span class="co"># Calculate risk differences</span></span>
<span id="cb56-23"><a href="plotting-meta-analytical-results.html#cb56-23" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">escalc</span>(<span class="at">measure =</span> <span class="st">&quot;RD&quot;</span>, <span class="at">ai =</span> ai, <span class="at">n1i =</span> n1i, <span class="at">ci =</span> ci, <span class="at">n2i =</span> n2i, <span class="at">data =</span> dat)</span>
<span id="cb56-24"><a href="plotting-meta-analytical-results.html#cb56-24" tabindex="-1"></a></span>
<span id="cb56-25"><a href="plotting-meta-analytical-results.html#cb56-25" tabindex="-1"></a><span class="co"># Fit a random-effects model and create a subgroup variable</span></span>
<span id="cb56-26"><a href="plotting-meta-analytical-results.html#cb56-26" tabindex="-1"></a>dat<span class="sc">$</span>subgroup <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Group A&quot;</span>, <span class="st">&quot;Group B&quot;</span>, <span class="st">&quot;Group C&quot;</span>), n_studies, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb56-27"><a href="plotting-meta-analytical-results.html#cb56-27" tabindex="-1"></a></span>
<span id="cb56-28"><a href="plotting-meta-analytical-results.html#cb56-28" tabindex="-1"></a><span class="co"># Create an empty plot list to store individual subgroup plots</span></span>
<span id="cb56-29"><a href="plotting-meta-analytical-results.html#cb56-29" tabindex="-1"></a>plot_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb56-30"><a href="plotting-meta-analytical-results.html#cb56-30" tabindex="-1"></a></span>
<span id="cb56-31"><a href="plotting-meta-analytical-results.html#cb56-31" tabindex="-1"></a><span class="co"># Loop over each subgroup to create the overall mean for each</span></span>
<span id="cb56-32"><a href="plotting-meta-analytical-results.html#cb56-32" tabindex="-1"></a><span class="cf">for</span> (group <span class="cf">in</span> <span class="fu">unique</span>(dat<span class="sc">$</span>subgroup)) {</span>
<span id="cb56-33"><a href="plotting-meta-analytical-results.html#cb56-33" tabindex="-1"></a>  subgroup_data <span class="ot">&lt;-</span> dat[dat<span class="sc">$</span>subgroup <span class="sc">==</span> group, ]</span>
<span id="cb56-34"><a href="plotting-meta-analytical-results.html#cb56-34" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">rma</span>(yi, vi, <span class="at">data =</span> subgroup_data, <span class="at">method =</span> <span class="st">&quot;DL&quot;</span>)  <span class="co"># Fit model for subgroup</span></span>
<span id="cb56-35"><a href="plotting-meta-analytical-results.html#cb56-35" tabindex="-1"></a></span>
<span id="cb56-36"><a href="plotting-meta-analytical-results.html#cb56-36" tabindex="-1"></a>  <span class="co"># Create the orchard plot for each subgroup</span></span>
<span id="cb56-37"><a href="plotting-meta-analytical-results.html#cb56-37" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(subgroup_data, <span class="fu">aes</span>(<span class="at">x =</span> yi, <span class="at">y =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb56-38"><a href="plotting-meta-analytical-results.html#cb56-38" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb56-39"><a href="plotting-meta-analytical-results.html#cb56-39" tabindex="-1"></a>    <span class="fu">geom_quasirandom</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">1</span><span class="sc">/</span><span class="fu">sqrt</span>(vi)), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span>  <span class="co"># Use inverse of SE for size</span></span>
<span id="cb56-40"><a href="plotting-meta-analytical-results.html#cb56-40" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> res<span class="sc">$</span>b, <span class="at">y =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;Overall Mean&quot;</span>), <span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">18</span>) <span class="sc">+</span></span>
<span id="cb56-41"><a href="plotting-meta-analytical-results.html#cb56-41" tabindex="-1"></a>    <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> res<span class="sc">$</span>ci.lb, <span class="at">xmax =</span> res<span class="sc">$</span>ci.ub, <span class="at">y =</span> <span class="dv">1</span>), <span class="at">height =</span> <span class="fl">0.1</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb56-42"><a href="plotting-meta-analytical-results.html#cb56-42" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Risk Difference&quot;</span>, <span class="at">y =</span> <span class="st">&quot;&quot;</span>, <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">&quot;Orchard Plot for&quot;</span>, group)) <span class="sc">+</span></span>
<span id="cb56-43"><a href="plotting-meta-analytical-results.html#cb56-43" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">&quot;&quot;</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Overall Mean&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb56-44"><a href="plotting-meta-analytical-results.html#cb56-44" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb56-45"><a href="plotting-meta-analytical-results.html#cb56-45" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(), <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb56-46"><a href="plotting-meta-analytical-results.html#cb56-46" tabindex="-1"></a>    <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb56-47"><a href="plotting-meta-analytical-results.html#cb56-47" tabindex="-1"></a>    <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>), <span class="at">name =</span> <span class="st">&quot;Precision&quot;</span>) </span>
<span id="cb56-48"><a href="plotting-meta-analytical-results.html#cb56-48" tabindex="-1"></a></span>
<span id="cb56-49"><a href="plotting-meta-analytical-results.html#cb56-49" tabindex="-1"></a>  <span class="co"># Store the plot in the list</span></span>
<span id="cb56-50"><a href="plotting-meta-analytical-results.html#cb56-50" tabindex="-1"></a>  plot_list[[group]] <span class="ot">&lt;-</span> p</span>
<span id="cb56-51"><a href="plotting-meta-analytical-results.html#cb56-51" tabindex="-1"></a>}</span>
<span id="cb56-52"><a href="plotting-meta-analytical-results.html#cb56-52" tabindex="-1"></a></span>
<span id="cb56-53"><a href="plotting-meta-analytical-results.html#cb56-53" tabindex="-1"></a><span class="co"># Display all orchard plots for each subgroup</span></span>
<span id="cb56-54"><a href="plotting-meta-analytical-results.html#cb56-54" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb56-55"><a href="plotting-meta-analytical-results.html#cb56-55" tabindex="-1"></a><span class="fu">do.call</span>(grid.arrange, <span class="fu">c</span>(plot_list, <span class="at">ncol =</span> <span class="dv">1</span>))  <span class="co"># Arrange plots in a single column</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="analysing-model-variability.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analysis-and-visualization-of-publication-bias.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/06_plot.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
